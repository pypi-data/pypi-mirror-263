(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1153],{85375:function(e,t,r){"use strict";var n=r(90849),i=r(73679),o=r(73452),u=r(34896),s=r(29549),c=r(58981),l=r(60153),a=r(89871),d=r(58897),p=r(27378),f=r(43139),x=r(38687),b=r(24246);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e){var t=e.item,r=e.label,n=e.draggable,i=e.onDeleteItem,c=e.onRowClick,d=e.maxH,p=void 0===d?10:d,f=(0,l.o)();return(0,b.jsx)(a.t.Item,{value:t,dragListener:!1,dragControls:f,children:(0,b.jsxs)(u.kC,{direction:"row",gap:2,maxH:p,w:"full",px:2,align:"center",role:"group",borderY:"1px",my:"-1px",borderColor:"gray.200",_hover:c?{bgColor:"gray.100"}:void 0,bgColor:"white",children:[n?(0,b.jsx)(o.VV,{onPointerDown:function(e){return f.start(e)},cursor:"grab"}):null,(0,b.jsx)(u.kC,{direction:"row",gap:2,p:2,align:"center",w:"full",cursor:c?"pointer":"auto",onClick:function(){c&&c(t)},overflow:"clip",children:(0,b.jsx)(u.xv,{fontSize:"sm",userSelect:"none",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",children:r})}),i?(0,b.jsx)(s.hU,{"aria-label":"Delete",onClick:function(){return i(t)},icon:(0,b.jsx)(o.pJ,{}),size:"xs",variant:"outline",bgColor:"white",visibility:"hidden",alignSelf:"end",mb:2,_groupHover:{visibility:"visible"}}):null]})})},m=function(e){var t=e.label,r=e.options,n=e.onOptionSelected,i=(0,p.useState)(!1),l=i[0],a=i[1],d=(0,p.useState)(void 0),x=d[0],j=d[1];return l?(0,b.jsx)(u.xu,{w:"full",children:(0,b.jsx)(c.Z,{chakraStyles:f.hP,size:"sm",value:x,options:r,onChange:function(e){return n(e),a(!1),void j(void 0)},autoFocus:!0,menuPosition:"fixed",menuPlacement:"auto"})}):(0,b.jsx)(s.zx,{onClick:function(){return a(!0)},w:"full",size:"sm",variant:"outline",rightIcon:(0,b.jsx)(o.dt,{boxSize:3}),children:t})};t.Z=function(e){var t=e.label,r=e.tooltip,n=e.draggable,o=e.addButtonLabel,s=e.allItems,c=e.idField,l=e.nameField,p=void 0===l?c:l,j=e.values,y=e.setValues,g=e.canDeleteItem,O=e.onRowClick,w=e.selectOnAdd,P=e.getItemLabel,S=e.createNewValue,C=e.maxHeight,k=void 0===C?36:C,Z=function(e){return e instanceof Object&&c&&c in e?e[c]:e},D=s.every((function(e){return"string"===typeof e}))?s.filter((function(e){return j.every((function(t){return t!==e}))})):s.filter((function(e){return j.every((function(t){return Z(t)!==Z(e)}))})),E=function(e){y(j.filter((function(t){return t!==e})).slice())},_=null!==P&&void 0!==P?P:function(e){return e instanceof Object&&c&&c in e?p&&p in e?e[p]:e[c]:e},z=function(e){var t=e instanceof Object&&c&&c in e?e[c]:e;return{label:_(e),value:t}},I=function(e){var t=S?S(e):function(e){return s.every((function(e){return"string"===typeof e}))?e.value:s.find((function(t){return t[c]===e.value}))}(e);y([t].concat((0,i.Z)(j.slice()))),w&&O&&O(t)},R={border:"1px",borderColor:"gray.200",borderRadius:"md",w:"full",maxH:"8.5rem",overflowY:"auto"},V=n?(0,b.jsx)(u.xu,v(v({as:d.E.div,layoutScroll:!0},R),{},{children:(0,b.jsx)(a.t.Group,{values:j,onReorder:function(e){return y(e.slice())},children:j.map((function(e){return(0,b.jsx)(h,{item:e,label:_(e),onDeleteItem:!g||g&&g(e)?E:void 0,onRowClick:O,draggable:!0,maxH:k},Z(e))}))})})):(0,b.jsx)(u.xu,v(v({},R),{},{children:(0,b.jsx)(u.aV,{children:j.map((function(e){return(0,b.jsx)(h,{item:e,label:_(e),onRowClick:O,onDeleteItem:E,maxH:k},Z(e))}))})}));return j.length?(0,b.jsxs)(u.kC,{align:"start",direction:"column",w:"full",gap:4,children:[t?(0,b.jsx)(f.__,{htmlFor:"test",fontSize:"xs",my:0,mr:1,children:t}):null,r?(0,b.jsx)(x.Z,{label:r}):null,V,D.length?(0,b.jsx)(m,{label:null!==o&&void 0!==o?o:"Add new",options:D.map((function(e){return z(e)})),onOptionSelected:I}):null]}):(0,b.jsx)(m,{label:null!==o&&void 0!==o?o:"Add new",options:D.map((function(e){return z(e)})),onOptionSelected:I})}},86054:function(e,t,r){"use strict";var n=r(90849),i=r(90089),o=r(34896),u=r(38687),s=r(24246),c=["title","tooltip","children"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.title,r=e.tooltip,n=e.children,l=(0,i.Z)(e,c);return(0,s.jsxs)(o.xu,a(a({borderRadius:"md",border:"1px solid",borderColor:"gray.200"},l),{},{children:[(0,s.jsxs)(o.X6,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:[t,r?(0,s.jsx)(o.xv,{as:"span",mx:1,children:(0,s.jsx)(u.Z,{label:r})}):void 0]}),(0,s.jsx)(o.Kq,{p:6,spacing:6,children:n})]}))}},24753:function(e,t,r){"use strict";r.d(t,{MA:function(){return a},Vo:function(){return p},t5:function(){return d}});var n=r(90849),i=r(34896),o=r(24246);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e){var t=e.children;return(0,o.jsxs)(i.xv,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",t]})},l=function(e){var t=e.children;return(0,o.jsxs)(i.xv,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",t]})},a={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var t=(0,o.jsx)(c,{children:e});return s(s({},a),{description:t})},p=function(e){var t=(0,o.jsx)(l,{children:e});return s(s({},a),{description:t,status:"error"})}},21980:function(e,t,r){"use strict";var n=r(34896),i=r(29549),o=r(34090),u=r(86677),s=r(27378),c=r(6848),l=r(86054),a=r(43139),d=r(78624),p=r(60709),f=r(85375),x=r(49841),b=r(9865),j=r(24246),v=function(){var e,t=(0,c.C)(x.Zp),r=(0,c.C)(x.G1);(0,x.cq)({page:t,size:r});var n=(0,c.C)(x.w4),i=(0,o.u6)(),u=i.values,s=i.setFieldValue;return(0,j.jsx)(l.Z,{title:"Experiences",children:(0,j.jsx)(f.Z,{addButtonLabel:"Add experience",idField:"id",nameField:"name",allItems:n.map((function(e){return{id:e.id,name:e.name}})),values:null!==(e=u.experiences)&&void 0!==e?e:[],setValues:function(e){return s("experiences",e)},draggable:!0})})};t.Z=function(e){var t=e.property,r=e.handleSubmit,c=(0,u.useRouter)(),f=function(){c.push(p.ru)},x=(0,s.useMemo)((function(){return t||{name:"",type:b.uS.WEBSITE,experiences:[]}}),[t]);return(0,j.jsx)(o.J9,{enableReinitialize:!0,initialValues:x,onSubmit:r,children:function(e){var r=e.dirty,u=e.isValid,s=e.isSubmitting;return(0,j.jsxs)(o.l0,{style:{paddingTop:"12px",paddingBottom:"12px"},children:[(0,j.jsx)(n.xu,{py:3,children:(0,j.jsxs)(l.Z,{title:"Property details",children:[(0,j.jsx)(a.j0,{isRequired:!0,label:"Property name",name:"name",tooltip:"Unique name to identify this property",variant:"stacked"}),(0,j.jsx)(a.AP,{isRequired:!0,label:"Type",name:"type",options:(0,d.MM)(b.uS),variant:"stacked"})]})}),(0,j.jsx)(n.xu,{py:3,children:(0,j.jsx)(v,{})}),t&&(0,j.jsx)(n.xu,{py:3,children:(0,j.jsx)(l.Z,{title:"Advanced settings",children:(0,j.jsx)(a.Io,{label:"Property ID",name:"id",tooltip:"Automatically generated unique ID for this property, used for developer configurations",variant:"stacked",readOnly:!0})})}),(0,j.jsxs)(n.kC,{justifyContent:"right",width:"100%",paddingTop:2,children:[(0,j.jsx)(i.zx,{size:"sm",type:"submit",variant:"outline",isLoading:!1,mr:3,onClick:f,children:"Cancel"}),(0,j.jsx)(i.zx,{size:"sm",type:"submit",colorScheme:"primary",isDisabled:s||!r||!u,isLoading:s,children:"Save"})]})]})}})}},23402:function(e,t,r){"use strict";r.r(t);var n=r(90089),i=r(55732),o=r(97865),u=r(34707),s=r.n(u),c=r(70409),l=r(34896),a=r(86677),d=r(78624),p=r(51471),f=r(60709),x=r(24753),b=r(31589),j=r(21980),v=r(33167),h=r(24246),m=["id"];t.default=function(){var e=(0,c.pm)(),t=(0,a.useRouter)(),r=t.query.id,u=(0,b.J6)(r).data,y=(0,b.f2)(),g=(0,o.Z)(y,1)[0],O=function(){var r=(0,i.Z)(s().mark((function r(i){var o,u,c;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=i.id,u=(0,n.Z)(i,m),r.next=3,g({id:o,property:u});case 3:if(c=r.sent,!(0,v.isErrorResult)(c)){r.next=7;break}return e((0,x.Vo)((0,d.e$)(c.error))),r.abrupt("return");case 7:e((0,x.t5)("Property ".concat(i.name," updated successfully"))),t.push("".concat(f.ru));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return u?(0,h.jsxs)(p.Z,{title:u.name,children:[(0,h.jsx)(l.xu,{display:"flex",alignItems:"center","data-testid":"header",children:(0,h.jsxs)(l.X6,{fontSize:"2xl",fontWeight:"semibold",children:["Edit ",u.name]})}),(0,h.jsxs)(l.xu,{maxWidth:"720px",pt:2,children:[(0,h.jsx)(l.xv,{fontSize:"sm",children:"Edit your existing property here."}),(0,h.jsx)(j.Z,{property:u,handleSubmit:O})]})]}):null}},33167:function(e,t,r){"use strict";r.d(t,{isAPIError:function(){return n.Bw},isErrorResult:function(){return n.D4}});var n=r(60041)},98383:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/consent/properties/[id]",function(){return r(23402)}])},30808:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}r.d(t,{Z:function(){return n}})},6983:function(e,t,r){"use strict";function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{Z:function(){return n}})}},function(e){e.O(0,[7751,6842,3452,3453,152,338,3702,9774,2888,179],(function(){return t=98383,e(e.s=t);var t}));var t=e.O();_N_E=t}]);