"use strict";(self.webpackChunkdf_cereal=self.webpackChunkdf_cereal||[]).push([[399],{585:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DFDataBenchmark=t.Base64Benchmark=t.BytesBenchmark=t.proxyIterate=t.Base64SimpleDFWidget=t.BytesSimpleDFWidget=t.BytesSimpleDFWidgetOrig=t.SimpleDFWidget=void 0;const r=o(n(294)),s=o(n(439)),a=n(456),l=n(290);function i({df_data:e}){return console.log("SimpleDFWidget"),0===e.length?r.default.createElement("h3",null," empty df_data"):r.default.createElement("div",null,r.default.createElement("table",null,r.default.createElement("thead",null,r.default.createElement("tr",null,(t=e[0],Object.keys(t).map((e=>r.default.createElement("th",{key:e}," ",e," ")))))),r.default.createElement("tbody",null,e.map(((e,t)=>r.default.createElement("tr",{key:t},function(e){return Object.keys(e).map((t=>{const n=e[t];return r.default.createElement("td",{key:t}," ",n?n.toString():"None"," ")}))}(e)))))));var t}t.SimpleDFWidget=i,t.BytesSimpleDFWidgetOrig=function({df_arrow_bytes:e}){console.log("df_arrow_bytes",e);const t=(0,a.tableFromIPC)(e);return console.log("table",t),i({df_data:(0,l.arrowToDFDataProxy)(t)})},t.BytesSimpleDFWidget=function({df_arrow_bytes:e}){console.log("df_arrow_bytes",e);const t=(0,a.tableFromIPC)(e.buffer);return console.log("table",t),i({df_data:(0,l.arrowToDFDataProxy)(t)})},t.Base64SimpleDFWidget=function({df_base64:e}){const t=(0,l.arrowFromBase64)(e);return i({df_data:(0,l.arrowToDFDataProxy)(t)})},t.proxyIterate=e=>{let t=0;for(let n=0;n<e.length;n++){const o=e[n];s.default.forEach(o,(e=>{null!==e&&("string"==typeof e?t+=e.length:"number"==typeof e&&(t+=e))}))}return t},t.BytesBenchmark=({df_arrow_bytes:e,timing_info:n,on_timing_info:o,do_calc:i,message:d})=>{if(console.log("Bytes Benchmark",s.default.keys(n).length,i),0===s.default.keys(n).length&&i){const n=new Date,r=(0,a.tableFromIPC)(e.buffer),s=(0,l.arrowToDFDataProxy)(r),i=new Date;console.log("proxyIterate",(0,t.proxyIterate)(s));const d=new Date,c=i-n,u=d-i;console.log("d1",c,"d2",u),o({t1:n,t2:i,t3:d}),console.log("bytesBenchmark finished")}return r.default.createElement("h1",null," Bytes Benchmark: ",d)},t.Base64Benchmark=({df_base64:e,timing_info:n,on_timing_info:o,do_calc:a,message:i})=>{if(console.log("Base64 benchmark",s.default.keys(n).length,a),0===s.default.keys(n).length&&a){const n=new Date,r=(0,l.arrowFromBase64)(e),s=(0,l.arrowToDFDataProxy)(r),a=new Date;console.log("proxyIterate",(0,t.proxyIterate)(s));const i=new Date,d=a-n,c=i-a;console.log("d1",d,"d2",c),o({t1:n,t2:a,t3:i}),console.log("Base64 Benchmark finished")}return r.default.createElement("h1",null," Base64 Benchmark: ",i)},t.DFDataBenchmark=({df_data:e,timing_info:n,on_timing_info:o,do_calc:a,message:l})=>{if(console.log("Base64 benchmark",s.default.keys(n).length,a),0===s.default.keys(n).length&&a){const n=new Date,r=new Date;console.log("proxyIterate",(0,t.proxyIterate)(e));const s=new Date,a=r-n,l=s-r;console.log("d1",a,"d2",l),o({t1:n,t2:r,t3:s}),console.log("DFDataBenchmark finished")}return r.default.createElement("h1",null," DFData Benchmark: ",l)}},290:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.arrowFromBase64=t.bytesToBase64=t.base64ToBytes=t.arrowToDFDataProxy=t.arrowToDFData=void 0;const r=n(456),s=o(n(439));function a(e){const t=atob(e);return Uint8Array.from(t,(e=>e.codePointAt(0)))}t.arrowToDFData=e=>{const t=[],n=e.schema.fields.map((e=>e.name));return e.batches.map((e=>{for(let o=0;o<e.data.length;o++){const r={};for(let t=0;t<n.length;t++)r[n[t]]=e.data.children[t].values[o];t.push(r)}})),t},t.arrowToDFDataProxy=e=>{const t=e.schema.fields.map((e=>e.name));return new Proxy([],{get(n,o,r){const a=e.batches[0].data.length;if("length"===o)return a;if("map"===o)return e=>function(e,t){let n=-1;const o=null===e?0:e.length,r=new Array(o);for(;++n<o;)r[n]=t(e[n],n,e);return r}(r,e);{const e=parseInt(o);if(!s.default.isSafeInteger(e))throw new Error(`Unexpected property access of ${o}, ${typeof o}`)}const l=parseInt(o);if(l>a)throw new Error(`Out of bounds exception accessed ${l} length ${a}`);const i={},d=e.get(l);if(null===d)throw new Error(`Unexpected null row for ${l}`);for(let e=0;e<t.length;e++){const n=t[e];i[n]=d[n]}return i}})},t.base64ToBytes=a,t.bytesToBase64=function(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)},t.arrowFromBase64=e=>{console.log("b64",e);const t=a(e);return(0,r.tableFromIPC)(t)}},399:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DFDataBenchmarkWidgetView=t.Base64BenchmarkWidgetView=t.BytesBenchmarkWidgetView=t.Base64WidgetView=t.BytesWidgetView=t.SimpleDFWidgetView=t.ReactWidgetView=t.ReactWidgetModel=void 0;const a=n(492),l=n(585),i=s(n(294)),d=s(n(745)),c=n(657);class u extends a.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:u.model_name,_model_module:u.model_module,_model_module_version:u.model_module_version,_view_name:u.view_name,_view_module:u.view_module,_view_module_version:u.view_module_version})}}t.ReactWidgetModel=u,u.serializers=Object.assign({},a.DOMWidgetModel.serializers),u.model_name="DCEFWidgetModel",u.view_name="ExampleView",u.model_module=c.MODULE_NAME,u.view_module=c.MODULE_NAME,u.model_module_version=c.MODULE_VERSION,u.view_module_version=c.MODULE_VERSION;class m extends a.DOMWidgetView{constructor(){super(...arguments),this.rComponent=null}render(){this.el.classList.add("custom-widget");const e=d.createRoot(this.el),t=i.default.createElement((()=>{const[e,t]=(0,i.useState)(0),n=()=>{t((e=>e+1))};(0,i.useEffect)((()=>{this.listenTo(this.model,"change",n)}),[]);const o={};for(const e of Object.keys(this.model.attributes))o[e]=this.model.get(e),o["on_"+e]=t=>{this.model.set(e,t),this.touch()};return i.default.createElement(this.rComponent,o)}),{});e.render(t)}}t.ReactWidgetView=m,t.SimpleDFWidgetView=class extends m{constructor(){super(...arguments),this.rComponent=l.SimpleDFWidget}},t.BytesWidgetView=class extends m{constructor(){super(...arguments),this.rComponent=l.BytesSimpleDFWidget}},t.Base64WidgetView=class extends m{constructor(){super(...arguments),this.rComponent=l.Base64SimpleDFWidget}},t.BytesBenchmarkWidgetView=class extends m{constructor(){super(...arguments),this.rComponent=l.BytesBenchmark}},t.Base64BenchmarkWidgetView=class extends m{constructor(){super(...arguments),this.rComponent=l.Base64Benchmark}},t.DFDataBenchmarkWidgetView=class extends m{constructor(){super(...arguments),this.rComponent=l.DFDataBenchmark}}},657:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_NAME=t.MODULE_VERSION=void 0;const o=n(147);t.MODULE_VERSION=o.version,t.MODULE_NAME=o.name},147:e=>{e.exports=JSON.parse('{"name":"df_cereal","version":"0.0.1","description":"Fast Datagrid widget for the Jupyter Notebook and JupyterLab","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","lib/**/*.js.map","lib/**/*.ts","dist/*.js","dist/*.js.map","dist/*.png","style/**/*.*"],"homepage":"https://github.com/paddymul/df_cereal","bugs":{"url":"https://github.com/paddymul/df_cereal/issues"},"license":"BSD-3-Clause","author":{"name":"Paddy Mullen","email":""},"main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/paddymul/df_cereal"},"scripts":{"build":"npm run build:lib && npm run build:nbextension && npm run build:labextension","build-full":"npm run build:lib &&  run build:nbextension && npm run build:labextension","build:dev":"npm run build:lib && npm run build:nbextension && npm run build:labextension:dev","build:labextension":"jupyter labextension build .","build:labextension:dev":"which jupyter && jupyter labextension build --development True .","build:lib":"tsc","build:nbextension":"webpack --mode=production --no-devtool","build:widget-examples":"cd widget-examples/basic && webpack --mode=production","build:examples":"webpack --mode=production --config docs/webpack.typescript.localdev.ts --env production","build:all":"npm run build:labextension && npm run build:nbextension && npm run build:widget-examples","clean":"rimraf dist && npm run clean:lib && npm run clean:labextension && npm run clean:nbextension","clean:lib":"rimraf lib","clean:labextension":"rimraf df_cereal/labextension","clean:nbextension":"rimraf df_cereal/nbextension/index.*","lint":"eslint \'js/**/*.{ts,tsx}\'","lint:check":"eslint \'js/**/*.{ts,tsx}\'","lint:fix":"eslint \'js/**/*.{ts,tsx}\' --fix","prepack":"npm run build:labextension && npm run build:nbextension","test":"jest --verbose --passWithNoTests","watch":"npm-run-all -p watch:*","watch:lib":"tsc -w","watch:nbextension":"webpack --watch","watch:labextension":"jupyter labextension watch .","dev":"webpack-cli serve --config docs/webpack.typescript.localdev.ts  --mode=development --env development --open"},"dependencies":{"@jupyter-widgets/base":"^2 || ^3 || ^4 || ^6.0.0","@jupyterlab/apputils":"^3.0.2","lodash":"^4.17.21","react":"^18.0.0","react-dom":"^18.0.0","apache-arrow":"^15.0.0"},"devDependencies":{"@babel/cli":"^7.6.3","@babel/core":"^7.6.3","@babel/preset-env":"^7.6.11","@babel/preset-typescript":"7.16.7","@jupyterlab/builder":"^3.0.1","@types/jest":"^28","@types/node":"^10.11.6","@types/react":"^18.0.0","@types/react-dom":"^18.0.0","@types/webpack-dev-server":"^3.11.1","@types/webpack-env":"^1.13.6","@typescript-eslint/eslint-plugin":"^5.9.1","@typescript-eslint/parser":"^5.9.1","acorn":"^6.2.0","babel-jest":"^28","babel-plugin-transform-es2015-modules-commonjs":"^6.26.2","bootstrap":"^5.1.3","css-loader":"^5.0.0","eslint":"^8.6.0","eslint-config-prettier":"^8.3.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-react":"^7.28.0","eslint-plugin-react-hooks":"^4.3.0","fs-extra":"^7.0.0","fork-ts-checker-webpack-plugin":"^6.1.0","html-loader":"^2.1.2","html-webpack-plugin":"^5.0.0","jest":"^28","lint-staged":"^10.2.11","markdown-loader":"^7.0.0","mkdirp":"^0.5.1","npm-run-all":"^4.1.3","postcss":"^8.4.14","postcss-loader":"^7.0.1","postcss-nested":"^6.0.0","postcss-preset-env":"^7.7.2","prettier":"^2.6.2","prettier-standalone":"^1.3.1-0","prism-themes":"^1.6.0","prismjs":"^1.28.0","react-router":"^6.3.0","react-router-dom":"^5.2.0","react-bootstrap":"^2.0.0","rimraf":"^3.0.2","sass":"^1.53.0","sass-loader":"^13.0.2","source-map-loader":"^0.2.4","style-loader":"^2.0.0","svg-url-loader":"^7.1.1","ts-jest":"^28.0.8","ts-loader":"^8.0.14","ts-node":"^9.1.1","tsconfig-paths-webpack-plugin":"^3.3.0","typescript":"^4.4.3","url-loader":"^4.1.0","webpack":"^5","webpack-cli":"^4.5.0","webpack-dev-server":"^4.0.0"},"jupyterlab":{"extension":"lib/plugin","webpackConfig":"webpack.lab.config.js","outputDir":"./df_cereal/labextension","sharedPackages":{"@jupyter-widgets/base":{"bundled":false,"singleton":true},"@lumino/algorithm":{"bundled":false,"singleton":true},"@lumino/commands":{"bundled":false,"singleton":true},"@lumino/coreutils":{"bundled":false,"singleton":true},"@lumino/datagrid":{"bundled":false,"singleton":true},"@lumino/default-theme":{"bundled":false,"singleton":true},"@lumino/domutils":{"bundled":false,"singleton":true},"@lumino/messaging":{"bundled":false,"singleton":true},"@lumino/virtualdom":{"bundled":false,"singleton":true},"@lumino/widgets":{"bundled":false,"singleton":true},"react":false,"react-dom":false}}}')}}]);