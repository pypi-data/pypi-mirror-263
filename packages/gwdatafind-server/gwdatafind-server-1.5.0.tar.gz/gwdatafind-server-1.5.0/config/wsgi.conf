# vim: set ft=apache:
#
# Sample Apache (HTTPD) configuration for
# deploying GWDataFind Server using WSGI
#

WSGIScriptAlias /LDR /usr/share/gwdatafind-server/gwdatafind_server.wsgi
WSGISocketPrefix /var/run/gwdatafind-server

<Location "/LDR">
    SSLRequireSSL
    SSLVerifyClient optional
    SSLVerifyDepth 10
    SSLOptions +ExportCertData +StrictRequire +LegacyDNStringFormat
    SSLOptions +StdEnvVars
    # If the corresponding environment variables are present,
    # set these headers which are used for certificate-based
    # authentication by the API.
    RequestHeader set SSL_CLIENT_S_DN "%{SSL_CLIENT_S_DN}s"
    RequestHeader set SSL_CLIENT_I_DN "%{SSL_CLIENT_I_DN}s"
</Location>
