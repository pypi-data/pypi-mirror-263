# vim: set ft=apache:
#
# Sample Apache (HTTPD) configuration for
# deploying GWDataFind Server using gunicorn
#

ProxyPass "/LDR" "http://127.0.0.1:8080/" retry=0 ttl=60
ProxyPassReverse "/LDR" "http://127.0.0.1:8080/"

<Location "/LDR">
    SSLRequireSSL
    SSLVerifyClient optional
    SSLVerifyDepth 10
    SSLOptions +ExportCertData +StrictRequire +LegacyDNStringFormat
    SSLOptions +StdEnvVars
    # If the corresponding environment variables are present,
    # set these headers which are used for certificate-based
    # authentication by the API.
    RequestHeader set SSL_CLIENT_S_DN "%{SSL_CLIENT_S_DN}s"
    RequestHeader set SSL_CLIENT_I_DN "%{SSL_CLIENT_I_DN}s"
</Location>
