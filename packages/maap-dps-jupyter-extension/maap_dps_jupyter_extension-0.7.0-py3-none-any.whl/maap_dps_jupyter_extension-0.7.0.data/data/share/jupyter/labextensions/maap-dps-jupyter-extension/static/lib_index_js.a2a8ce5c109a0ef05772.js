"use strict";
(self["webpackChunkmaap_dps_jupyter_extension"] = self["webpackChunkmaap_dps_jupyter_extension"] || []).push([["lib_index_js"],{

/***/ "./node_modules/css-loader/dist/cjs.js!./style/Alerts.css":
/*!****************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./style/Alerts.css ***!
  \****************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".alert > svg {\n    margin-right: 1rem;\n}", "",{"version":3,"sources":["webpack://./style/Alerts.css"],"names":[],"mappings":"AAAA;IACI,kBAAkB;AACtB","sourcesContent":[".alert > svg {\n    margin-right: 1rem;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./style/JobDetailsContainer.css":
/*!*****************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./style/JobDetailsContainer.css ***!
  \*****************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".job-details-container {\n    display: flex;\n    flex-direction: column;\n    margin: 1rem;\n}\n\n.jobs-overview-container {\n    margin: 1rem;\n}\n\n.nav-menu {\n    margin-bottom: 1rem;\n}", "",{"version":3,"sources":["webpack://./style/JobDetailsContainer.css"],"names":[],"mappings":"AAAA;IACI,aAAa;IACb,sBAAsB;IACtB,YAAY;AAChB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,mBAAmB;AACvB","sourcesContent":[".job-details-container {\n    display: flex;\n    flex-direction: column;\n    margin: 1rem;\n}\n\n.jobs-overview-container {\n    margin: 1rem;\n}\n\n.nav-menu {\n    margin-bottom: 1rem;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./style/JobStatusBadge.css":
/*!************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./style/JobStatusBadge.css ***!
  \************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "span.job-failed {\n    background-color: var(--job-status-failed) !important;\n}\n\nspan.job-started {\n    background-color: var(--job-status-started) !important;\n}\n\nspan.job-completed {\n    background-color: var(--job-status-completed) !important;\n}\n\nspan.job-accepted {\n    background-color: var(--job-status-accepted) !important;\n}\n\nspan.job-revoked {\n    background-color:  var(--job-status-revoked) !important;\n}", "",{"version":3,"sources":["webpack://./style/JobStatusBadge.css"],"names":[],"mappings":"AAAA;IACI,qDAAqD;AACzD;;AAEA;IACI,sDAAsD;AAC1D;;AAEA;IACI,wDAAwD;AAC5D;;AAEA;IACI,uDAAuD;AAC3D;;AAEA;IACI,uDAAuD;AAC3D","sourcesContent":["span.job-failed {\n    background-color: var(--job-status-failed) !important;\n}\n\nspan.job-started {\n    background-color: var(--job-status-started) !important;\n}\n\nspan.job-completed {\n    background-color: var(--job-status-completed) !important;\n}\n\nspan.job-accepted {\n    background-color: var(--job-status-accepted) !important;\n}\n\nspan.job-revoked {\n    background-color:  var(--job-status-revoked) !important;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./style/JobSubmission.css":
/*!***********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./style/JobSubmission.css ***!
  \***********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".submit-wrapper {\n    display: flex;\n    margin: 2rem;\n    align-items: flex-start;\n}\n\n.algorithm-details {\n    background-color: var(--ADE-light-grey);\n    display: flex;\n    flex-direction: column;\n    padding: 1rem;\n}\n\n.form-control {\n    min-width: 40vw;\n}\n\n.form-control select {\n    padding: 0.375rem;\n}\n\n.submit-wrapper > form {\n    padding-right: 3rem;\n    min-width: fit-content;\n}\n\n.algorithm-details > div, .algorithm-details > a {\n    margin-bottom: 1rem;\n}\n\nhr {\n    margin-top: 0rem;\n}\n\n.cmr {\n    display: flex;\n    align-items: stretch;\n    flex-direction: column;\n    max-width: 60vh;\n}\n\n.btn-toolbar > .btn {\n    margin-right: 1rem;\n}\n\n.algorithm-input {\n    margin: 1rem;\n}\n\ninput:placeholder-shown {\n    font-style: italic;\n }\n\n .cmr-table {\n    margin: 1rem 0;\n    border: solid 1px #E5E5E5;\n}\n\n.cmr-table > tr:nth-child(odd) {\n    background-color: white;\n}\n\n.cmr-table > tr:nth-child(even) {\n    background-color: #E5E5E5;\n}\n\n.cmr-table > tr:nth-child(even):hover {\n    background-color: #E5E5E5;\n}\n\n.wait-cursor {\n    cursor: wait !important;\n}", "",{"version":3,"sources":["webpack://./style/JobSubmission.css"],"names":[],"mappings":"AAAA;IACI,aAAa;IACb,YAAY;IACZ,uBAAuB;AAC3B;;AAEA;IACI,uCAAuC;IACvC,aAAa;IACb,sBAAsB;IACtB,aAAa;AACjB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,mBAAmB;IACnB,sBAAsB;AAC1B;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,oBAAoB;IACpB,sBAAsB;IACtB,eAAe;AACnB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,kBAAkB;CACrB;;CAEA;IACG,cAAc;IACd,yBAAyB;AAC7B;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,uBAAuB;AAC3B","sourcesContent":[".submit-wrapper {\n    display: flex;\n    margin: 2rem;\n    align-items: flex-start;\n}\n\n.algorithm-details {\n    background-color: var(--ADE-light-grey);\n    display: flex;\n    flex-direction: column;\n    padding: 1rem;\n}\n\n.form-control {\n    min-width: 40vw;\n}\n\n.form-control select {\n    padding: 0.375rem;\n}\n\n.submit-wrapper > form {\n    padding-right: 3rem;\n    min-width: fit-content;\n}\n\n.algorithm-details > div, .algorithm-details > a {\n    margin-bottom: 1rem;\n}\n\nhr {\n    margin-top: 0rem;\n}\n\n.cmr {\n    display: flex;\n    align-items: stretch;\n    flex-direction: column;\n    max-width: 60vh;\n}\n\n.btn-toolbar > .btn {\n    margin-right: 1rem;\n}\n\n.algorithm-input {\n    margin: 1rem;\n}\n\ninput:placeholder-shown {\n    font-style: italic;\n }\n\n .cmr-table {\n    margin: 1rem 0;\n    border: solid 1px #E5E5E5;\n}\n\n.cmr-table > tr:nth-child(odd) {\n    background-color: white;\n}\n\n.cmr-table > tr:nth-child(even) {\n    background-color: #E5E5E5;\n}\n\n.cmr-table > tr:nth-child(even):hover {\n    background-color: #E5E5E5;\n}\n\n.wait-cursor {\n    cursor: wait !important;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./style/JobsOverview.css":
/*!**********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./style/JobsOverview.css ***!
  \**********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/cssWithMappingToString.js */ "./node_modules/css-loader/dist/runtime/cssWithMappingToString.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_cssWithMappingToString_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, "\ntbody>tr:hover {\n    --bs-table-bg: var(--ADE-dark-grey) !important;\n}\n\nthead>tr:hover {\n    --bs-table-bg: var(--bs-table-bg) !important;\n}\n\n.overview-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin: 1rem;\n}\n\n.pagination {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 1rem;\n}\n\n.pagination > ul {\n    margin: 0;\n}\n\n.pagination > span {\n    margin: 1rem;\n}\n\n.global-filter {\n    margin: 1rem;\n    width: 500px;\n}\n\n.cell-overflow {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n.actions-overlay {\n    position: sticky;\n    right: 0;\n    z-index: 1;\n    max-width: 100%;\n}\n\n.actions-overlay:hover {\n    cursor: pointer;\n}", "",{"version":3,"sources":["webpack://./style/JobsOverview.css"],"names":[],"mappings":";AACA;IACI,8CAA8C;AAClD;;AAEA;IACI,4CAA4C;AAChD;;AAEA;IACI,aAAa;IACb,8BAA8B;IAC9B,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,aAAa;IACb,2BAA2B;IAC3B,mBAAmB;IACnB,YAAY;AAChB;;AAEA;IACI,SAAS;AACb;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,YAAY;AAChB;;AAEA;IACI,gBAAgB;IAChB,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,gBAAgB;IAChB,QAAQ;IACR,UAAU;IACV,eAAe;AACnB;;AAEA;IACI,eAAe;AACnB","sourcesContent":["\ntbody>tr:hover {\n    --bs-table-bg: var(--ADE-dark-grey) !important;\n}\n\nthead>tr:hover {\n    --bs-table-bg: var(--bs-table-bg) !important;\n}\n\n.overview-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin: 1rem;\n}\n\n.pagination {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    margin: 1rem;\n}\n\n.pagination > ul {\n    margin: 0;\n}\n\n.pagination > span {\n    margin: 1rem;\n}\n\n.global-filter {\n    margin: 1rem;\n    width: 500px;\n}\n\n.cell-overflow {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n.actions-overlay {\n    position: sticky;\n    right: 0;\n    z-index: 1;\n    max-width: 100%;\n}\n\n.actions-overlay:hover {\n    cursor: pointer;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./lib/api/maap_py.js":
/*!****************************!*\
  !*** ./lib/api/maap_py.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cancelJob: () => (/* binding */ cancelJob),
/* harmony export */   describeAlgorithms: () => (/* binding */ describeAlgorithms),
/* harmony export */   getAlgorithms: () => (/* binding */ getAlgorithms),
/* harmony export */   getCMRCollections: () => (/* binding */ getCMRCollections),
/* harmony export */   getEnvironmentInfo: () => (/* binding */ getEnvironmentInfo),
/* harmony export */   getJobMetrics: () => (/* binding */ getJobMetrics),
/* harmony export */   getJobResult: () => (/* binding */ getJobResult),
/* harmony export */   getJobStatus: () => (/* binding */ getJobStatus),
/* harmony export */   getJobs: () => (/* binding */ getJobs),
/* harmony export */   getResources: () => (/* binding */ getResources),
/* harmony export */   getUserJobs: () => (/* binding */ getUserJobs),
/* harmony export */   requestAPI: () => (/* binding */ requestAPI),
/* harmony export */   submitJob: () => (/* binding */ submitJob)
/* harmony export */ });
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/coreutils */ "webpack/sharing/consume/default/@jupyterlab/coreutils");
/* harmony import */ var _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/services */ "webpack/sharing/consume/default/@jupyterlab/services");
/* harmony import */ var _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_ogc_parsers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/ogc_parsers */ "./lib/utils/ogc_parsers.js");



/**
 * Call the API extension
 *
 * @param endPoint API REST end point for the extension
 * @param init Initial values for the request
 * @returns The response body interpreted as JSON
 */
async function requestAPI(endPoint = "", init = {}) {
    // Make request to Jupyter API
    const settings = _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__.ServerConnection.makeSettings();
    const requestUrl = _jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.URLExt.join(settings.baseUrl, "jupyter-server-extension", // API Namespace
    endPoint);
    let response;
    try {
        response = await _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__.ServerConnection.makeRequest(requestUrl, init, settings);
    }
    catch (error) {
        throw new _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__.ServerConnection.NetworkError(error);
    }
    let data = await response.text();
    if (data.length > 0) {
        try {
            data = JSON.parse(data);
        }
        catch (error) {
            console.log("Not a JSON response body.", response);
        }
    }
    if (!response.ok) {
        throw new _jupyterlab_services__WEBPACK_IMPORTED_MODULE_1__.ServerConnection.ResponseError(response, data.message || data);
    }
    return data;
}
async function getJobs(username) {
    var requestUrl = new URL(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.PageConfig.getBaseUrl() + "jupyter-server-extension/listJobs");
    requestUrl.searchParams.append("username", username);
    requestUrl.searchParams.append("proxy-ticket", "");
    let response = await fetch(requestUrl.href, {
        headers: {
            "Content-Type": "application/json",
        },
    });
    if (response.status >= 200 && response.status < 400) {
        console.log("request went well");
    }
    else {
        console.log("something went wrong with request!!!");
    }
    return response.json();
}
const sortAlphabetically = (a, b) => {
    return a.label > b.label ? 1 : b.label > a.label ? -1 : 0;
};
const filterOptions = (options, inputValue) => {
    const candidate = inputValue.toLowerCase();
    return options.filter(({ label }) => label.toLowerCase().includes(candidate));
};
async function getAlgorithms(inputValue, callback) {
    let algorithms_tmp = [];
    var requestUrl = new URL(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.PageConfig.getBaseUrl() + "jupyter-server-extension/listAlgorithms");
    requestUrl.searchParams.append("visibility", "all");
    await fetch(requestUrl.href, {
        headers: {
            "Content-Type": "application/json",
        },
    })
        .then((response) => response.json())
        .then((data) => {
        data["response"]["algorithms"].forEach((item) => {
            let algorithm = {};
            algorithm["value"] = item["type"] + ":" + item["version"];
            algorithm["label"] = item["type"] + ":" + item["version"];
            algorithms_tmp.push(algorithm);
        });
        const filtered = filterOptions(algorithms_tmp, inputValue);
        // sort
        algorithms_tmp = filtered.sort(sortAlphabetically);
        callback(filtered);
        return algorithms_tmp;
    });
    return algorithms_tmp;
}
async function describeAlgorithms(algo_id) {
    var requestUrl = new URL(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.PageConfig.getBaseUrl() + "jupyter-server-extension/describeAlgorithms");
    var body = {};
    requestUrl.searchParams.append("algo_id", algo_id);
    await fetch(requestUrl.href, {
        headers: { "Content-Type": "application/json" },
    })
        .then((response) => response.json())
        .then((data) => {
        body = (0,_utils_ogc_parsers__WEBPACK_IMPORTED_MODULE_2__.getAlgorithmMetadata)(data["response"]);
        return body;
    });
    return body;
}
async function getJobStatus(job_id) {
    var requestUrl = new URL(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.PageConfig.getBaseUrl() + "jupyter-server-extension/getJobStatus");
    requestUrl.searchParams.append("job_id", job_id);
    let response = await fetch(requestUrl.href, {
        headers: {
            "Content-Type": "application/json",
        },
    });
    let body = "";
    if (response.status >= 200 && response.status < 400) {
        console.log("Query submitted for: ", job_id);
        body = response.json();
    }
    else {
        console.log("something went wrong with request!!!");
    }
    return body;
}
async function getCMRCollections() {
    var requestUrl = new URL(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.PageConfig.getBaseUrl() + "jupyter-server-extension/getCMRCollections");
    var collections = [];
    await fetch(requestUrl.href, {
        headers: {
            "Content-Type": "application/json",
        },
    })
        .then((response) => response.json())
        .then((data) => {
        data["response"].forEach((item) => {
            let collection = {};
            collection["value"] = item["Collection"]["ShortName"];
            collection["label"] = item["Collection"]["ShortName"];
            collection["ShortName"] = item["Collection"]["ShortName"];
            collection["ScienceKeywords"] = item["Collection"]["ScienceKeywords"];
            collection["Description"] = item["Collection"]["Description"];
            collection["concept-id"] = item["concept-id"];
            collections.push(collection);
        });
        return collections;
    });
    return collections;
}
async function submitJob(data) {
    var requestUrl = new URL(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.PageConfig.getBaseUrl() + "jupyter-server-extension/submitJob");
    Object.keys(data).map((key, index) => requestUrl.searchParams.append(key, data[key]));
    // print request url and test it out on postman to make sure it works
    let response = await fetch(requestUrl.href, {
        headers: {
            "Content-Type": "application/json",
        },
    });
    var body = response.json();
    if (response.status >= 200 && response.status < 400) {
        console.log("job submitted");
    }
    else {
        console.log("something went wrong with job submission request!!!");
    }
    return body;
}
async function getResources(inputValue, callback) {
    var resources = [];
    var requestUrl = new URL(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.PageConfig.getBaseUrl() + "jupyter-server-extension/getQueues");
    await fetch(requestUrl.href, {
        headers: {
            "Content-Type": "application/json",
        },
    })
        .then((response) => response.json())
        .then((data) => {
        data["response"].forEach((item) => {
            let resource = {};
            resource["value"] = item;
            resource["label"] = item;
            resources.push(resource);
        });
        const filtered = filterOptions(resources, inputValue);
        callback(filtered);
        return resources;
    });
    return resources;
}
async function getJobResult(job_id) {
    var requestUrl = new URL(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.PageConfig.getBaseUrl() + "jupyter-server-extension/getJobResult");
    requestUrl.searchParams.append("job_id", job_id);
    // print request url and test it out on postman to make sure it works
    let response = await fetch(requestUrl.href, {
        headers: {
            "Content-Type": "application/json",
        },
    });
    var body = response.json();
    if (response.status >= 200 && response.status < 400) {
        console.log("got job result");
    }
    else {
        console.log("something went wrong with job result request!!!");
    }
    return body;
}
async function cancelJob(job_id) {
    var requestUrl = new URL(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.PageConfig.getBaseUrl() + "jupyter-server-extension/cancelJob");
    requestUrl.searchParams.append("job_id", job_id);
    let response = await fetch(requestUrl.href, {
        headers: {
            "Content-Type": "application/json",
        },
    });
    response = await response.json();
    return response["response"];
}
async function getJobMetrics(job_id) {
    var requestUrl = new URL(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.PageConfig.getBaseUrl() + "jupyter-server-extension/getJobMetrics");
    requestUrl.searchParams.append("job_id", job_id);
    console.log("Request url for get result: ", requestUrl);
    // print request url and test it out on postman to make sure it works
    let response = await fetch(requestUrl.href, {
        headers: {
            "Content-Type": "application/json",
        },
    });
    var body = response.json();
    if (response.status >= 200 && response.status < 400) {
        console.log("got job result");
    }
    else {
        console.log("something went wrong with job metrics request!!!");
    }
    return body;
}
async function getUserJobs(username) {
    var requestUrl = new URL(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.PageConfig.getBaseUrl() + "jupyter-server-extension/listUserJobs");
    requestUrl.searchParams.append("username", username);
    console.log("Request url: ", requestUrl);
    // print request url and test it out on postman to make sure it works
    let response = await fetch(requestUrl.href, {
        headers: {
            "Content-Type": "application/json",
        },
    });
    var body = response.json();
    if (response.status >= 200 && response.status < 400) {
        console.log("got user jobs");
    }
    else {
        console.log("something went wrong with user jobs list request!!!");
    }
    return body;
}
async function getEnvironmentInfo() {
    var requestUrl = new URL(_jupyterlab_coreutils__WEBPACK_IMPORTED_MODULE_0__.PageConfig.getBaseUrl() + "jupyter-server-extension/getConfig");
    console.log("Request url: ", requestUrl);
    // print request url and test it out on postman to make sure it works
    let response = await fetch(requestUrl.href, {
        headers: {
            "Content-Type": "application/json",
        },
    });
    var body = response.json();
    if (response.status >= 200 && response.status < 400) {
        console.log("got environment info");
    }
    else {
        console.log("something went wrong with user jobs list request!!!");
    }
    return body;
}


/***/ }),

/***/ "./lib/classes/App.js":
/*!****************************!*\
  !*** ./lib/classes/App.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SubmitJobsReactAppWidget: () => (/* binding */ SubmitJobsReactAppWidget),
/* harmony export */   ViewJobsReactAppWidget: () => (/* binding */ ViewJobsReactAppWidget)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_JobsApp__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/JobsApp */ "./lib/components/JobsApp.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ "./lib/constants.js");
/* harmony import */ var _redux_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../redux/store */ "./lib/redux/store.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! regenerator-runtime/runtime */ "./node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _components_JobSubmissionForm__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/JobSubmissionForm */ "./lib/components/JobSubmissionForm.js");








class ViewJobsReactAppWidget extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ReactWidget {
    constructor(uname, jupyterApp) {
        super();
        this.addClass(_constants__WEBPACK_IMPORTED_MODULE_4__.JUPYTER_EXT.EXTENSION_CSS_CLASSNAME);
        this.uname = uname;
        this.jupyterApp = jupyterApp;
    }
    render() {
        return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, { store: _redux_store__WEBPACK_IMPORTED_MODULE_5__["default"] },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_JobsApp__WEBPACK_IMPORTED_MODULE_6__.JobsApp, { uname: this.uname, jupyterApp: this.jupyterApp })));
    }
}
class SubmitJobsReactAppWidget extends _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ReactWidget {
    constructor(data, uname) {
        super();
        this.addClass(_constants__WEBPACK_IMPORTED_MODULE_4__.JUPYTER_EXT.EXTENSION_CSS_CLASSNAME);
        this.data = data;
        this.uname = uname;
    }
    render() {
        return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.Provider, { store: _redux_store__WEBPACK_IMPORTED_MODULE_5__["default"] },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_JobSubmissionForm__WEBPACK_IMPORTED_MODULE_7__.JobSubmissionForm, { uname: this.uname })));
    }
}


/***/ }),

/***/ "./lib/components/Alerts.js":
/*!**********************************!*\
  !*** ./lib/components/Alerts.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AlertBox: () => (/* binding */ AlertBox)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ "webpack/sharing/consume/default/react-bootstrap/react-bootstrap");
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_icons_bs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-icons/bs */ "./node_modules/react-icons/bs/index.esm.js");
/* harmony import */ var _style_Alerts_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../style/Alerts.css */ "./style/Alerts.css");




const AlertBox = ({ text, variant }) => {
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Alert, { variant: variant },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_bs__WEBPACK_IMPORTED_MODULE_3__.BsInfoCircleFill, null),
        text));
};


/***/ }),

/***/ "./lib/components/ErrorsJobInfoTable.js":
/*!**********************************************!*\
  !*** ./lib/components/ErrorsJobInfoTable.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ErrorsJobInfoTable: () => (/* binding */ ErrorsJobInfoTable)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./lib/constants.js");
/* harmony import */ var _redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../redux/slices/jobsSlice */ "./lib/redux/slices/jobsSlice.js");
/* harmony import */ var _templates_ErrorsJobInfoTable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../templates/ErrorsJobInfoTable */ "./lib/templates/ErrorsJobInfoTable.js");
/* harmony import */ var react_icons_md__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-icons/md */ "./node_modules/react-icons/md/index.esm.js");






const ErrorsJobInfoTable = () => {
    // Redux
    const { selectedJob } = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(_redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_2__.selectJobs);
    // Component local state
    const [expandError, setExpandError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("table", { className: 'table' },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tbody", null, _templates_ErrorsJobInfoTable__WEBPACK_IMPORTED_MODULE_3__.ERRORS_JOBS_INFO.map((field) => {
            {
                if (selectedJob['jobInfo'][field.accessor]) {
                    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: field.header },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("th", null, field.header),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null,
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { onClick: () => setExpandError(!expandError), className: expandError ? "show-content clickable" : "hide-content clickable" },
                                expandError ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_4__.MdArrowDropDown, { size: 28 }) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_4__.MdArrowRight, { size: 28 }),
                                selectedJob['jobInfo'][field.accessor])));
                }
                else {
                    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: field.header },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("th", null, field.header),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, _constants__WEBPACK_IMPORTED_MODULE_5__.EMPTY_FIELD_CHAR));
                }
            }
        }))));
};


/***/ }),

/***/ "./lib/components/GeneralJobInfoTable.js":
/*!***********************************************!*\
  !*** ./lib/components/GeneralJobInfoTable.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GeneralJobInfoTable: () => (/* binding */ GeneralJobInfoTable)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../redux/slices/jobsSlice */ "./lib/redux/slices/jobsSlice.js");
/* harmony import */ var _templates_GeneralJobInfoTable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../templates/GeneralJobInfoTable */ "./lib/templates/GeneralJobInfoTable.js");
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/utils */ "./lib/utils/utils.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants */ "./lib/constants.js");






const GeneralJobInfoTable = () => {
    // Redux
    const { selectedJob } = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(_redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_2__.selectJobs);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("table", { className: 'table' },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tbody", null, _templates_GeneralJobInfoTable__WEBPACK_IMPORTED_MODULE_3__.GENERAL_JOBS_INFO.map((field) => {
            {
                if (selectedJob['jobInfo'][field.accessor]) {
                    switch (field.accessor) {
                        case "duration": return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: field.header },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("th", null, field.header),
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, (0,_utils_utils__WEBPACK_IMPORTED_MODULE_4__.secondsToReadableString)(selectedJob['jobInfo'][field.accessor])));
                        default: return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: field.header },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("th", null, field.header),
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, selectedJob['jobInfo'][field.accessor]));
                    }
                }
                else {
                    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: field.header },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("th", null, field.header),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, _constants__WEBPACK_IMPORTED_MODULE_5__.EMPTY_FIELD_CHAR));
                }
            }
        }))));
};


/***/ }),

/***/ "./lib/components/InputsJobInfoTable.js":
/*!**********************************************!*\
  !*** ./lib/components/InputsJobInfoTable.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InputsJobInfoTable: () => (/* binding */ InputsJobInfoTable)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../redux/slices/jobsSlice */ "./lib/redux/slices/jobsSlice.js");
/* harmony import */ var _templates_InputsJobInfoTable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../templates/InputsJobInfoTable */ "./lib/templates/InputsJobInfoTable.js");
/* harmony import */ var react_json_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-json-view */ "webpack/sharing/consume/default/react-json-view/react-json-view");
/* harmony import */ var react_json_view__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_json_view__WEBPACK_IMPORTED_MODULE_2__);





const InputsJobInfoTable = () => {
    // Redux
    const { selectedJob } = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(_redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_3__.selectJobs);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("table", { className: 'table' },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tbody", null, // If the job is in a queued state, the inputs (if there are any) are not provided
        // in the API response, so we have to check they exist first.
        selectedJob['jobInfo'][_templates_InputsJobInfoTable__WEBPACK_IMPORTED_MODULE_4__.INPUTS_JOBS_INFO.accessor] ?
            selectedJob['jobInfo'][_templates_InputsJobInfoTable__WEBPACK_IMPORTED_MODULE_4__.INPUTS_JOBS_INFO.accessor].map((input) => {
                return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: input.name },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("th", null, input.name),
                    input.value ?
                        (typeof (input.value) === 'string' || typeof (input.value) === 'number') ?
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, input.value)
                            : react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null,
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react_json_view__WEBPACK_IMPORTED_MODULE_2___default()), { src: input.value, theme: "summerfruit:inverted", collapsed: true, displayDataTypes: false }))
                        : react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, "-"));
            }) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null))));
};


/***/ }),

/***/ "./lib/components/JobDetailsContainer.js":
/*!***********************************************!*\
  !*** ./lib/components/JobDetailsContainer.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JobDetailsContainer: () => (/* binding */ JobDetailsContainer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ "webpack/sharing/consume/default/react-bootstrap/react-bootstrap");
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _GeneralJobInfoTable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GeneralJobInfoTable */ "./lib/components/GeneralJobInfoTable.js");
/* harmony import */ var _InputsJobInfoTable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./InputsJobInfoTable */ "./lib/components/InputsJobInfoTable.js");
/* harmony import */ var _redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../redux/slices/jobsSlice */ "./lib/redux/slices/jobsSlice.js");
/* harmony import */ var _MetricsJobInfoTable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MetricsJobInfoTable */ "./lib/components/MetricsJobInfoTable.js");
/* harmony import */ var _style_JobDetailsContainer_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../style/JobDetailsContainer.css */ "./style/JobDetailsContainer.css");
/* harmony import */ var _ErrorsJobInfoTable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ErrorsJobInfoTable */ "./lib/components/ErrorsJobInfoTable.js");
/* harmony import */ var _OutputsJobInfoTable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./OutputsJobInfoTable */ "./lib/components/OutputsJobInfoTable.js");










const JobDetailsContainer = ({ jupyterApp }) => {
    // Redux
    const { selectedJob } = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(_redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_4__.selectJobs);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "job-details-container" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h2", null, "Job Details"),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Tab.Container, { id: "left-tabs-example", defaultActiveKey: "general" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Nav, { variant: "pills", className: "nav-menu" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Nav.Item, null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Nav.Link, { eventKey: "general" }, "General")),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Nav.Item, null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Nav.Link, { eventKey: "inputs" }, "Inputs")),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Nav.Item, null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Nav.Link, { eventKey: "outputs" }, "Outputs")),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Nav.Item, null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Nav.Link, { eventKey: "errors" }, "Errors")),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Nav.Item, null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Nav.Link, { eventKey: "metrics" }, "Metrics"))),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Tab.Content, { className: "content-padding" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Tab.Pane, { eventKey: "general" }, selectedJob ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_GeneralJobInfoTable__WEBPACK_IMPORTED_MODULE_5__.GeneralJobInfoTable, null) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: 'subtext' }, "No job selected")),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Tab.Pane, { eventKey: "inputs" }, selectedJob ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_InputsJobInfoTable__WEBPACK_IMPORTED_MODULE_6__.InputsJobInfoTable, null) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", { className: 'subtext' }, "No job selected")),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Tab.Pane, { eventKey: "outputs" }, selectedJob ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_OutputsJobInfoTable__WEBPACK_IMPORTED_MODULE_7__.OutputsJobInfoTable, { jupyterApp: jupyterApp }) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", { className: 'subtext' }, "No job selected")),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Tab.Pane, { eventKey: "errors" }, selectedJob ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ErrorsJobInfoTable__WEBPACK_IMPORTED_MODULE_8__.ErrorsJobInfoTable, null) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", { className: 'subtext' }, "No job selected")),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Tab.Pane, { eventKey: "metrics" }, selectedJob ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MetricsJobInfoTable__WEBPACK_IMPORTED_MODULE_9__.MetricsJobInfoTable, null) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", { className: 'subtext' }, "No job selected"))))));
};


/***/ }),

/***/ "./lib/components/JobStatusBadge.js":
/*!******************************************!*\
  !*** ./lib/components/JobStatusBadge.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JobStatusBadge: () => (/* binding */ JobStatusBadge)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ "webpack/sharing/consume/default/react-bootstrap/react-bootstrap");
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_JobStatusBadge_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../style/JobStatusBadge.css */ "./style/JobStatusBadge.css");



const JobStatusBadge = ({ status }) => {
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Badge, { pill: true, className: status.toLowerCase() }, status));
};


/***/ }),

/***/ "./lib/components/JobSubmissionForm.js":
/*!*********************************************!*\
  !*** ./lib/components/JobSubmissionForm.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JobSubmissionForm: () => (/* binding */ JobSubmissionForm)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-bootstrap */ "webpack/sharing/consume/default/react-bootstrap/react-bootstrap");
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Alerts__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Alerts */ "./lib/components/Alerts.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_select_async__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-select/async */ "./node_modules/react-select/async/dist/react-select-async.esm.js");
/* harmony import */ var _redux_slices_CMRSwitchSlice__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../redux/slices/CMRSwitchSlice */ "./lib/redux/slices/CMRSwitchSlice.js");
/* harmony import */ var _api_maap_py__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../api/maap_py */ "./lib/api/maap_py.js");
/* harmony import */ var _redux_slices_algorithmsSlice__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../redux/slices/algorithmsSlice */ "./lib/redux/slices/algorithmsSlice.js");
/* harmony import */ var _utils_ogc_parsers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/ogc_parsers */ "./lib/utils/ogc_parsers.js");
/* harmony import */ var _style_JobSubmission_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../style/JobSubmission.css */ "./style/JobSubmission.css");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _redux_slices_userInfoSlice__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../redux/slices/userInfoSlice */ "./lib/redux/slices/userInfoSlice.js");
/* harmony import */ var _redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../redux/slices/jobsSlice */ "./lib/redux/slices/jobsSlice.js");
/* harmony import */ var _utils_mapping__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/mapping */ "./lib/utils/mapping.js");
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/utils */ "./lib/utils/utils.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../constants */ "./lib/constants.js");

















const JobSubmissionForm = ({ uname }) => {
    // Redux
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch)();
    const { setAlgorithm, setResource, setAlgorithmMetadata, setCMRCollection } = _redux_slices_algorithmsSlice__WEBPACK_IMPORTED_MODULE_6__.algorithmsActions;
    const { setUserJobInfo, setJobRefreshTimestamp } = _redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_7__.jobsActions;
    const { selectedAlgorithm, selectedResource, selectedAlgorithmMetadata, selectedCMRCollection } = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(_redux_slices_algorithmsSlice__WEBPACK_IMPORTED_MODULE_6__.selectAlgorithms);
    const { username } = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(_redux_slices_userInfoSlice__WEBPACK_IMPORTED_MODULE_8__.selectUserInfo);
    const { setUsername } = _redux_slices_userInfoSlice__WEBPACK_IMPORTED_MODULE_8__.userInfoActions;
    const { toggleValue, toggleDisabled } = _redux_slices_CMRSwitchSlice__WEBPACK_IMPORTED_MODULE_9__.CMRSwitchActions;
    const { switchIsChecked, switchIsDisabled } = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(_redux_slices_CMRSwitchSlice__WEBPACK_IMPORTED_MODULE_9__.selectCMRSwitch);
    // Local state variables
    const [jobTag, setJobTag] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
    const [command, setCommand] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)('');
    const [showWaitCursor, setShowWaitCursor] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const jobSubmitForm = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        dispatch(setUsername(uname));
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (selectedAlgorithm != null) {
            let res = (0,_api_maap_py__WEBPACK_IMPORTED_MODULE_10__.describeAlgorithms)(selectedAlgorithm["value"]);
            res.then((data) => {
                dispatch(setAlgorithmMetadata(data));
            });
        }
    }, [selectedAlgorithm]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        if (command != '') {
            (0,_utils_utils__WEBPACK_IMPORTED_MODULE_11__.copyTextToClipboard)(command, "Copied Jupyter Notebook python command to clipboard.");
        }
    }, [command]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        let elems = document.getElementsByClassName("jl-ReactAppWidget");
        let pElement = document.getElementById(_constants__WEBPACK_IMPORTED_MODULE_12__.SUBMITTED_JOB_ELEMENT_ID);
        // Apply the css to the parent div
        if (showWaitCursor) {
            elems[0].classList.add('wait-cursor');
            pElement.textContent = _constants__WEBPACK_IMPORTED_MODULE_12__.SUBMITTING_JOB_TEXT;
        }
        else {
            elems[0].classList.remove('wait-cursor');
        }
    }, [showWaitCursor]);
    const handleAlgorithmChange = value => {
        dispatch(setAlgorithm(value));
    };
    const handleResourceChange = value => {
        dispatch(setResource(value));
    };
    const handleCMRCollectionChange = value => {
        dispatch(setCMRCollection(value));
    };
    const disableSubmitButton = () => {
        let elemsButtons = document.getElementsByClassName("btn btn-primary");
        for (let i = 0; i < elemsButtons.length; i++) {
            if (elemsButtons[i].getAttribute("type") === "submit") {
                elemsButtons[i].setAttribute("disabled", "true");
            }
        }
    };
    const enableSubmitButton = () => {
        let elemsButtons = document.getElementsByClassName("btn btn-primary");
        for (let i = 0; i < elemsButtons.length; i++) {
            if (elemsButtons[i].getAttribute("type") === "submit" && elemsButtons[i].hasAttribute("disabled")) {
                elemsButtons[i].removeAttribute("disabled");
            }
        }
    };
    const setSubmittedJobText = (success, id, errorMessage) => {
        let pElement = document.getElementById(_constants__WEBPACK_IMPORTED_MODULE_12__.SUBMITTED_JOB_ELEMENT_ID);
        if (success) {
            pElement.textContent = _constants__WEBPACK_IMPORTED_MODULE_12__.SUBMITTED_JOB_SUCCESS.replace("{TIME}", new Date().toUTCString()).replace("{ID}", id);
        }
        else {
            pElement.textContent = _constants__WEBPACK_IMPORTED_MODULE_12__.SUBMITTED_JOB_FAIL.replace("{TIME}", new Date().toUTCString()).replace("{ERROR}", errorMessage);
        }
    };
    const onSubmit = (event) => {
        disableSubmitButton();
        event.preventDefault();
        var jobParams = {
            algo_id: null,
            version: null,
            queue: null,
            username: null,
            identifier: null
        };
        if (selectedAlgorithm) {
            let algorithm = selectedAlgorithm.value.split(':');
            jobParams.algo_id = algorithm[0];
            jobParams.version = algorithm[1];
        }
        if (selectedResource) {
            jobParams.queue = selectedResource.value;
        }
        jobParams.username = username;
        jobParams.identifier = jobTag;
        let data = new FormData(event.target);
        for (const input of data.entries()) {
            jobParams[input[0]] = input[1];
        }
        let formValidation = validateForm(jobParams);
        if (!formValidation) {
            // Submit job
            (0,_api_maap_py__WEBPACK_IMPORTED_MODULE_10__.submitJob)(jobParams).then((data) => {
                let msg = " Job submitted successfully. " + data['response'];
                _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__.Notification.success(msg, { autoClose: false });
                setSubmittedJobText(true, data['response'], null);
                setTimeout(() => {
                    enableSubmitButton();
                    setShowWaitCursor(false);
                }, 2000);
            }).catch(error => {
                _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__.Notification.error(error.message, { autoClose: false });
                setSubmittedJobText(false, null, error.message);
                setTimeout(() => {
                    enableSubmitButton();
                    setShowWaitCursor(false);
                }, 2000);
            });
            // Refresh job list once job has been submitted
            let response = (0,_api_maap_py__WEBPACK_IMPORTED_MODULE_10__.getUserJobs)(username);
            response.then((data) => {
                dispatch(setUserJobInfo((0,_utils_mapping__WEBPACK_IMPORTED_MODULE_13__.parseJobData)(data["response"]["jobs"])));
            }).finally(() => {
                dispatch(setJobRefreshTimestamp(new Date().toUTCString()));
            });
        }
        else {
            _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_5__.Notification.error("Job failed to submit because " + formValidation, { autoClose: false });
            setShowWaitCursor(false);
            enableSubmitButton();
            setSubmittedJobText(false, null, formValidation);
        }
    };
    const validateForm = (params) => {
        let errorMsg = "";
        if (!params.algo_id) {
            errorMsg = "missing algorithm selection.";
        }
        else if (!params.identifier) {
            errorMsg = "missing job tag.";
        }
        else if (!params.queue) {
            errorMsg = "missing resource selection.";
        }
        return errorMsg;
    };
    // Reset job form
    const clearForm = () => {
        dispatch(setAlgorithm(null));
        dispatch(setResource(null));
        dispatch(setAlgorithmMetadata(null));
        setJobTag('');
        if (!switchIsDisabled) {
            dispatch(toggleDisabled());
        }
        if (switchIsChecked) {
            dispatch(toggleValue());
        }
        const activeElement = document.activeElement;
        if (activeElement)
            activeElement.blur();
    };
    // Build job submission jupyter notebook command from user-provided selections
    const buildNotebookCommand = () => {
        // maap.submitJob({"algo_id": "test_algo", "username": "anonymous", "queue": "geospec-job_worker-32gb"})
        let jobParams = {
            algo_id: null,
            version: null,
            queue: null,
            username: null,
            identifier: null
        };
        if (selectedAlgorithm) {
            let algorithm = selectedAlgorithm.value.split(':');
            jobParams.algo_id = algorithm[0];
            jobParams.version = algorithm[1];
        }
        if (selectedResource) {
            jobParams.queue = selectedResource.value;
        }
        jobParams.username = username;
        jobParams.identifier = jobTag;
        let data = new FormData(jobSubmitForm.current);
        let inputStr = "";
        for (const input of data.entries()) {
            jobParams[input[0]] = input[1];
            if (inputStr == "") {
                inputStr = input[0] + "=" + "\"" + input[1] + "\"";
            }
            else {
                inputStr = inputStr + ",\n    " + input[0] + "=" + "\"" + input[1] + "\"";
            }
        }
        let tmp = "maap.submitJob(identifier=\"" + jobParams.identifier + "\",\n    " +
            "algo_id=\"" + jobParams.algo_id + "\",\n    " +
            "version=\"" + jobParams.version + "\",\n    " +
            "username=\"" + jobParams.username + "\",\n    " +
            "queue=\"" + jobParams.queue + "\",\n    " + inputStr + ")";
        setCommand(tmp);
        const activeElement = document.activeElement;
        if (activeElement)
            activeElement.blur();
    };
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "submit-wrapper" },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form, { onSubmit: onSubmit, ref: jobSubmitForm },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5", null, "1. General Information"),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Group, { className: "mb-3 algorithm-input" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Label, null, "Algorithm"),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_select_async__WEBPACK_IMPORTED_MODULE_3__["default"], { menuPortalTarget: document.querySelector('body'), cacheOptions: true, defaultOptions: true, value: selectedAlgorithm, loadOptions: _api_maap_py__WEBPACK_IMPORTED_MODULE_10__.getAlgorithms, onChange: handleAlgorithmChange, placeholder: "Select algorithm..." })),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Group, { className: "mb-3 algorithm-input" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Label, null, "Job Tag"),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Control, { type: "text", value: jobTag, placeholder: "Enter job tag...", onChange: event => setJobTag(event.target.value) })),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Group, { className: "mb-3 algorithm-input" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Label, null, "Resource"),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_select_async__WEBPACK_IMPORTED_MODULE_3__["default"], { cacheOptions: true, defaultOptions: true, value: selectedResource, loadOptions: _api_maap_py__WEBPACK_IMPORTED_MODULE_10__.getResources, onChange: handleResourceChange, placeholder: "Select resource..." })),
            selectedAlgorithmMetadata ?
                // If user has selected an algorithm, render inputs and CMR info
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5", null, "2. Algorithm Inputs"),
                    Array.isArray(selectedAlgorithmMetadata.inputs) ?
                        selectedAlgorithmMetadata.inputs.map((item, index) => {
                            switch (item["ows:Title"]) {
                                case "publish_to_cmr":
                                    if (switchIsDisabled) {
                                        dispatch(toggleDisabled());
                                    }
                                    return "publish to cmr";
                                case "queue_name":
                                    return ""; // already integrated above using the resource async select
                                default:
                                    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { key: `${item["ows:Title"]}_${index}` },
                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Group, { className: "algorithm-input" },
                                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Label, null, `${item["ows:Title"]}`),
                                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Control
                                            // value={item["ows:Title"]}
                                            , { 
                                                // value={item["ows:Title"]}
                                                name: item["ows:Title"], placeholder: `Enter ${item["ows:Title"]}...`, required: false })));
                            }
                        }) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Alerts__WEBPACK_IMPORTED_MODULE_14__.AlertBox, { text: "No inputs defined for selected algorithm.", variant: "primary" }),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "cmr" },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: { display: 'flex' } },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h5", null, "3. Publish to Content Metadata Repository (CMR)?"),
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Group, null,
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Switch
                                //custom
                                , { 
                                    //custom
                                    disabled: switchIsDisabled, type: "switch", checked: switchIsChecked, onChange: () => dispatch(toggleValue()) }))),
                        switchIsChecked ?
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Group, { className: "mb-3 algorithm-input" },
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Form.Label, null, "CMR Collections"),
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_select_async__WEBPACK_IMPORTED_MODULE_3__["default"], { cacheOptions: true, defaultOptions: true, value: selectedCMRCollection, loadOptions: _api_maap_py__WEBPACK_IMPORTED_MODULE_10__.getCMRCollections, onChange: handleCMRCollectionChange, placeholder: "Select CMR collection..." }))
                            : null,
                        selectedCMRCollection && switchIsChecked ?
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("table", { className: "cmr-table" },
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: "concept-id" },
                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, "Concept ID"),
                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, selectedCMRCollection["concept-id"])),
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: "name" },
                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, "Name"),
                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, selectedCMRCollection["ShortName"])),
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: "description" },
                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, "Description"),
                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, selectedCMRCollection["Description"])),
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: "science-keywords" },
                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, "Science Keywords"),
                                    (0,_utils_ogc_parsers__WEBPACK_IMPORTED_MODULE_15__.parseScienceKeywords)(selectedCMRCollection["ScienceKeywords"]).map((item) => item + ", "))) : null,
                        switchIsDisabled ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Alerts__WEBPACK_IMPORTED_MODULE_14__.AlertBox, { text: "CMR publication not available for selected algorithm.", variant: "primary" }) : null)) : null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("hr", null),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.ButtonToolbar, null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Button, { type: "submit", onClick: () => setShowWaitCursor(true) }, "Submit Job"),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Button, { variant: "outline-secondary", onClick: clearForm }, "Clear"),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_1__.Button, { variant: "outline-primary", style: { marginLeft: 'auto' }, onClick: buildNotebookCommand }, "Copy as Jupyter Notebook Code")),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br", null),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", { id: _constants__WEBPACK_IMPORTED_MODULE_12__.SUBMITTED_JOB_ELEMENT_ID }))));
};


/***/ }),

/***/ "./lib/components/JobsApp.js":
/*!***********************************!*\
  !*** ./lib/components/JobsApp.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JobsApp: () => (/* binding */ JobsApp)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _JobsView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./JobsView */ "./lib/components/JobsView.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ "./lib/constants.js");
/* harmony import */ var bootstrap_dist_css_bootstrap_min_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bootstrap/dist/css/bootstrap.min.css */ "./node_modules/bootstrap/dist/css/bootstrap.min.css");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _redux_slices_userInfoSlice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../redux/slices/userInfoSlice */ "./lib/redux/slices/userInfoSlice.js");






const JobsApp = ({ uname, jupyterApp }) => {
    // Redux
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useDispatch)();
    const { setUsername } = _redux_slices_userInfoSlice__WEBPACK_IMPORTED_MODULE_3__.userInfoActions;
    const { username } = (0,react_redux__WEBPACK_IMPORTED_MODULE_2__.useSelector)(_redux_slices_userInfoSlice__WEBPACK_IMPORTED_MODULE_3__.selectUserInfo);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        dispatch(setUsername(uname));
    }, []);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: _constants__WEBPACK_IMPORTED_MODULE_4__.JUPYTER_EXT.EXTENSION_CSS_CLASSNAME }, username ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_JobsView__WEBPACK_IMPORTED_MODULE_5__.JobsView, { jupyterApp: jupyterApp }) : ''));
};


/***/ }),

/***/ "./lib/components/JobsOverviewContainer.js":
/*!*************************************************!*\
  !*** ./lib/components/JobsOverviewContainer.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JobsOverviewContainer: () => (/* binding */ JobsOverviewContainer)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_table__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-table */ "webpack/sharing/consume/default/react-table/react-table");
/* harmony import */ var react_table__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_table__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-bootstrap */ "webpack/sharing/consume/default/react-bootstrap/react-bootstrap");
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _JobStatusBadge__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./JobStatusBadge */ "./lib/components/JobStatusBadge.js");
/* harmony import */ var react_icons_fa__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react-icons/fa */ "./node_modules/react-icons/fa/index.esm.js");
/* harmony import */ var react_bootstrap_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-bootstrap-icons */ "webpack/sharing/consume/default/react-bootstrap-icons/react-bootstrap-icons");
/* harmony import */ var react_bootstrap_icons__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap_icons__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../redux/slices/jobsSlice */ "./lib/redux/slices/jobsSlice.js");
/* harmony import */ var _redux_slices_JobsContainerSlice__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../redux/slices/JobsContainerSlice */ "./lib/redux/slices/JobsContainerSlice.js");
/* harmony import */ var _redux_slices_userInfoSlice__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../redux/slices/userInfoSlice */ "./lib/redux/slices/userInfoSlice.js");
/* harmony import */ var _utils_mapping__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/mapping */ "./lib/utils/mapping.js");
/* harmony import */ var _api_maap_py__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../api/maap_py */ "./lib/api/maap_py.js");
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/utils */ "./lib/utils/utils.js");
/* harmony import */ var _style_JobsOverview_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../style/JobsOverview.css */ "./style/JobsOverview.css");
/* harmony import */ var react_icons_md__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react-icons/md */ "./node_modules/react-icons/md/index.esm.js");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_6__);
















const JobsOverviewContainer = ({ jupyterApp }) => {
    // Redux
    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();
    const { itemSize } = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(_redux_slices_JobsContainerSlice__WEBPACK_IMPORTED_MODULE_7__.selectJobsContainer);
    const { selectedJob, userJobInfo, jobRefreshTimestamp } = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(_redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_8__.selectJobs);
    const { username } = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(_redux_slices_userInfoSlice__WEBPACK_IMPORTED_MODULE_9__.selectUserInfo);
    const { setSelectedJob, setUserJobInfo, setJobRefreshTimestamp } = _redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_8__.jobsActions;
    // Local component variables
    const [showSpinner, setShowSpinner] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const [showFilters, setShowFilters] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);
    const [statusFilterOptions, setStatusFilterOptions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
    const data = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => userJobInfo, [userJobInfo]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        getJobInfo();
    }, []);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        setPageSize(itemSize);
    }, [itemSize]);
    const getJobInfo = () => {
        setShowSpinner(true);
        // List all jobs for a given user
        let response = (0,_api_maap_py__WEBPACK_IMPORTED_MODULE_10__.getUserJobs)(username);
        response
            .then((data) => {
            dispatch(setUserJobInfo((0,_utils_mapping__WEBPACK_IMPORTED_MODULE_11__.parseJobData)(data["response"]["jobs"])));
        })
            .finally(() => {
            setShowSpinner(false);
            // Update refresh timestamp
            dispatch(setJobRefreshTimestamp(new Date().toUTCString()));
            // setGlobalFilter(state.globalFilter)
        });
    };
    // Set selected row
    const handleRowClick = (row) => {
        userJobInfo.map((job) => {
            if (job["payload_id"] === row.values.payload_id) {
                dispatch(setSelectedJob({
                    rowIndex: row.index,
                    jobID: row.values.payload_id,
                    jobInfo: job,
                }));
                return;
            }
        });
    };
    const handleCancelJob = (e, job_id) => {
        // Don't invoke row onclick event
        e.stopPropagation();
        (0,_api_maap_py__WEBPACK_IMPORTED_MODULE_10__.cancelJob)(job_id)
            .then((response) => {
            if (response["exception_code"] === "") {
                _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_6__.Notification.success(response["response"], { autoClose: false });
                return;
            }
            _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_6__.Notification.error(response["response"], { autoClose: false });
        })
            .catch((error) => {
            _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_6__.Notification.error(error.message, { autoClose: false });
        });
    };
    const MultipleFilter = (rows, filler, filterValue) => {
        const arr = [];
        rows.forEach((val) => {
            if (filterValue.includes(val.original.status))
                arr.push(val);
        });
        return arr;
    };
    function setFilteredParams(filterArr, val) {
        console.log("Check filter");
        console.log(filterArr);
        console.log(val);
        if (filterArr.includes(val)) {
            console.log("test");
            filterArr = filterArr.filter((n) => {
                return n !== val;
            });
        }
        else {
            console.log("test2");
            filterArr.push(val);
        }
        //if (filterArr.length === 0) filterArr = undefined;
        return filterArr;
    }
    const SelectColumnFilter = ({ column: { filterValue = [], setFilter, preFilteredRows, id }, }) => {
        const options = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
            const options = new Set();
            preFilteredRows.forEach((row) => {
                options.add(row.values[id]);
            });
            // this line is causing a console error but dont see a better way around it
            setStatusFilterOptions(Array.from(options));
            return [...options.values()];
        }, [id, preFilteredRows]);
        return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "block" }, options.map((option, i) => {
                return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, { key: i },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "flex items-center" },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", { type: "checkbox", defaultChecked: true, className: "focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded", id: option, name: option, value: option, onChange: (e) => {
                                setFilter(setFilteredParams(filterValue, e.target.value));
                            } }),
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("label", { htmlFor: option, className: "ml-1.5 font-medium text-gray-700" }, option))));
            }))));
    };
    // Text filter for a single column
    const TextColumnFilter = ({ column: { filterValue, preFilteredRows, setFilter }, }) => {
        const count = preFilteredRows.length;
        return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "text-filter" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", { value: filterValue || "", onChange: (e) => {
                    setFilter(e.target.value || undefined);
                }, placeholder: `Search ${count} record(s)...` })));
    };
    // Global text filter
    const GlobalFilter = ({ preGlobalFilteredRows, globalFilter, setGlobalFilter, }) => {
        const [value, setValue] = react__WEBPACK_IMPORTED_MODULE_0___default().useState(globalFilter);
        const onChange = (0,react_table__WEBPACK_IMPORTED_MODULE_2__.useAsyncDebounce)((value) => {
            setGlobalFilter(value || undefined);
        }, 200);
        return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.InputGroup, { className: "mb-3" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.InputGroup.Text, { id: "basic-addon1" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap_icons__WEBPACK_IMPORTED_MODULE_4__.Search, null)),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.FormControl, { type: "search", key: "globalSearch", placeholder: `Search records...`, "aria-label": "Search", "aria-describedby": "basic-addon1", value: value || "", onChange: (e) => {
                    setValue(e.target.value);
                    onChange(e.target.value);
                } })));
    };
    // Date range filter component for a single column
    const DateRangeColumnFilter = ({ column: { filterValue = [], preFilteredRows, setFilter, id }, }) => {
        const [min, max] = react__WEBPACK_IMPORTED_MODULE_0___default().useMemo(() => {
            let min = preFilteredRows.length
                ? new Date(preFilteredRows[0].values[id])
                : new Date(0);
            let max = preFilteredRows.length
                ? new Date(preFilteredRows[0].values[id])
                : new Date(0);
            preFilteredRows.forEach((row) => {
                const rowDate = new Date(row.values[id]);
                min = rowDate <= min ? rowDate : min;
                max = rowDate >= max ? rowDate : max;
            });
            return [min, max];
        }, [id, preFilteredRows]);
        return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "date-filter" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", { onChange: (e) => {
                    const val = e.target.value;
                    setFilter((old = []) => [val ? val : undefined, old[1]]);
                }, type: "date", value: filterValue[0] || "" }),
            " to ",
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", { onChange: (e) => {
                    const val = e.target.value;
                    setFilter((old = []) => [
                        old[0],
                        val ? val.concat("T23:59:59.999Z") : undefined,
                    ]);
                }, type: "date", value: filterValue[1]?.slice(0, 10) || "" })));
    };
    const testSort = (canSort, isSortedDesc) => {
        if (canSort) {
            if (isSortedDesc === undefined) {
                return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_12__.FaSort, { size: 24 });
            }
            else if (isSortedDesc) {
                return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_12__.FaSortDown, { size: 24 });
            }
            else {
                return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_12__.FaSortUp, { size: 24 });
            }
        }
    };
    const dateSort = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (rowA, rowB, columnId) => {
        // TODO: case where endtime is null but start time is not.
        if (rowA.values[columnId] === "") {
            const a = new Date(rowA.values["time_queued"]);
            const b = new Date(rowB.values[columnId]);
            return a > b ? 1 : -1;
            //return -1
        }
        if (rowB.values[columnId] === "") {
            const a = new Date(rowA.values[columnId]);
            const b = new Date(rowB.values["time_queued"]);
            return a > b ? 1 : -1;
            //return 1
        }
        const a = new Date(rowA.values[columnId]);
        const b = new Date(rowB.values[columnId]);
        return a > b ? 1 : -1;
    }, []);
    // Date range filter function for a single column
    const dateBetweenFilterFn = (rows, id, filterValues) => {
        const sd = filterValues[0] ? new Date(filterValues[0]) : undefined;
        const ed = filterValues[1] ? new Date(filterValues[1]) : undefined;
        if (ed || sd) {
            return rows.filter((r) => {
                var dateAndHour = r.original[id[0]].split("T");
                var [year, month, day] = dateAndHour[0].split("-");
                var date = [month, day, year].join("/");
                var hour = dateAndHour[1];
                var formattedData = date + " " + hour;
                const cellDate = new Date(formattedData);
                if (ed && sd) {
                    return cellDate >= sd && cellDate <= ed;
                }
                else if (sd) {
                    return cellDate >= sd;
                }
                else {
                    return cellDate <= ed;
                }
            });
        }
        else {
            return rows;
        }
    };
    const [hoveredRowIndex, setHoveredRowIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);
    const handleRowHover = (index) => {
        setHoveredRowIndex(index);
    };
    const columns = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => [
        {
            Header: "Tag",
            accessor: "tags",
            disableSortBy: true,
            maxWidth: 350,
            Filter: TextColumnFilter,
        },
        {
            Header: () => react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: { textAlign: "center" } }, "Job Type"),
            accessor: "job_type",
            disableSortBy: true,
            maxWidth: 300,
            Filter: TextColumnFilter,
        },
        {
            Header: () => react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: { textAlign: "center" } }, "Status"),
            accessor: "status",
            disableSortBy: true,
            maxWidth: 300,
            Cell: ({ cell: { row: { values: { status }, }, }, }) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: { textAlign: "center" } },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_JobStatusBadge__WEBPACK_IMPORTED_MODULE_13__.JobStatusBadge, { status: status }))),
            Filter: SelectColumnFilter,
            filter: MultipleFilter,
        },
        {
            Header: () => react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: { textAlign: "center" } }, "Queued Time"),
            accessor: "time_queued",
            Cell: (row) => react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: { textAlign: "center" } }, row.value),
            sortType: dateSort,
            sortDescFirst: true,
            Filter: DateRangeColumnFilter,
            filter: dateBetweenFilterFn,
            maxWidth: 300,
        },
        {
            Header: () => react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: { textAlign: "center" } }, "Start Time"),
            accessor: "time_start",
            Cell: (row) => react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: { textAlign: "center" } }, row.value),
            sortType: dateSort,
            Filter: DateRangeColumnFilter,
            filter: dateBetweenFilterFn,
            maxWidth: 300,
        },
        {
            Header: () => react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: { textAlign: "center" } }, "End Time"),
            accessor: "time_end",
            Cell: (row) => react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: { textAlign: "center" } }, row.value),
            Filter: DateRangeColumnFilter,
            filter: dateBetweenFilterFn,
            sortType: dateSort,
            maxWidth: 300,
        },
        {
            Header: "Payload ID",
            accessor: "payload_id",
            disableSortBy: true,
            maxWidth: 300,
            Filter: TextColumnFilter,
        },
    ], []);
    const { getTableProps, getTableBodyProps, headerGroups, page, prepareRow, state, preGlobalFilteredRows, setGlobalFilter, canPreviousPage, canNextPage, pageOptions, pageCount, gotoPage, nextPage, previousPage, setPageSize, visibleColumns, setAllFilters, state: { pageIndex, pageSize, sortBy }, } = (0,react_table__WEBPACK_IMPORTED_MODULE_2__.useTable)({
        columns,
        data: data,
        disableSortRemove: true,
        initialState: {
            pageIndex: 0,
            pageSize: itemSize,
            sortBy: [
                {
                    id: "time_queued",
                    desc: true,
                },
            ],
            filters: [
                {
                    id: "status",
                    value: statusFilterOptions,
                },
            ],
        },
    }, react_table__WEBPACK_IMPORTED_MODULE_2__.useFilters, react_table__WEBPACK_IMPORTED_MODULE_2__.useGlobalFilter, react_table__WEBPACK_IMPORTED_MODULE_2__.useSortBy, react_table__WEBPACK_IMPORTED_MODULE_2__.usePagination, react_table__WEBPACK_IMPORTED_MODULE_2__.useRowSelect);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null,
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "overview-header" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("h1", null, "My Jobs")),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.Button, { variant: "primary", onClick: () => (0,_utils_utils__WEBPACK_IMPORTED_MODULE_14__.openSubmitJobs)(jupyterApp, null) }, "+ Submit New Job"))),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "table-toolbar" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.ButtonGroup, { className: "toolbar-btn" },
                showFilters ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", { title: "Hide filters", onClick: () => setShowFilters(!showFilters) },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_15__.MdFilterAltOff, null))) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", { title: "Show filters", onClick: () => setShowFilters(!showFilters) },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_15__.MdFilterAlt, null))),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", { title: "Clear filters", onClick: () => setAllFilters([{ id: "status", value: statusFilterOptions }]) },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_15__.MdClear, null)),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", { title: "Refresh job list", onClick: getJobInfo },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_15__.MdRefresh, null))),
            jobRefreshTimestamp ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "refresh-timestamp" },
                "Last updated:",
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("br", null),
                " ",
                jobRefreshTimestamp)) : ("")),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "table-container" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.Table, Object.assign({}, getTableProps()),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("thead", null, headerGroups.map((headerGroup) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", Object.assign({}, headerGroup.getHeaderGroupProps(), { key: "Header Group" }), headerGroup.headers.map((column) => (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("th", Object.assign({}, column.getHeaderProps()),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", Object.assign({ className: "header-sort" }, column.getSortByToggleProps()),
                        column.render("Header"),
                        testSort(column.canSort, column.isSortedDesc)),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, showFilters
                        ? column.canFilter
                            ? column.render("Filter")
                            : null
                        : null)))))))),
                showSpinner ? (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tbody", null,
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: "loading-jobs" },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", { colSpan: columns.length, style: { textAlign: "center" } },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.Spinner, { animation: "border", variant: "primary" }))))) : (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tbody", Object.assign({}, getTableBodyProps()), page.map((row) => {
                    prepareRow(row);
                    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: row.index, className: selectedJob && selectedJob.rowIndex === row.index
                            ? "selected-row position-relative"
                            : "position-relative", onClick: () => handleRowClick(row), onMouseEnter: () => handleRowHover(row.index), onMouseLeave: () => handleRowHover(null) },
                        row.cells.map((cell) => {
                            return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", Object.assign({ className: "cell-overflow" }, cell.getCellProps({
                                style: {
                                    maxWidth: cell.column.maxWidth,
                                },
                            })), cell.render("Cell")));
                        }),
                        hoveredRowIndex === row.index && (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "actions-overlay" },
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_15__.MdStop, { title: "Stop Job", size: "24px", color: "red", onClick: (e) => handleCancelJob(e, row.values.payload_id) })))));
                }))))),
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: "pagination" },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.Pagination, null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.Pagination.First, { onClick: () => gotoPage(0), disabled: !canPreviousPage }),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.Pagination.Prev, { onClick: () => previousPage(), disabled: !canPreviousPage }),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.Pagination.Next, { onClick: () => nextPage(), disabled: !canNextPage }),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.Pagination.Last, { onClick: () => gotoPage(pageCount - 1), disabled: !canNextPage })),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", null,
                "Page ",
                pageOptions.length === 0 ? 0 : pageIndex + 1,
                " of",
                " ",
                pageOptions.length))));
};


/***/ }),

/***/ "./lib/components/JobsView.js":
/*!************************************!*\
  !*** ./lib/components/JobsView.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JobsView: () => (/* binding */ JobsView)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var split_pane_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! split-pane-react */ "webpack/sharing/consume/default/split-pane-react/split-pane-react");
/* harmony import */ var split_pane_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(split_pane_react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var split_pane_react_esm_themes_default_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! split-pane-react/esm/themes/default.css */ "./node_modules/split-pane-react/esm/themes/default.css");
/* harmony import */ var _JobDetailsContainer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./JobDetailsContainer */ "./lib/components/JobDetailsContainer.js");
/* harmony import */ var _JobsOverviewContainer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./JobsOverviewContainer */ "./lib/components/JobsOverviewContainer.js");
/* harmony import */ var react_icons_md__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-icons/md */ "./node_modules/react-icons/md/index.esm.js");





// import { JobsContainerActions } from '../redux/slices/JobsContainerSlice'
// import { useDispatch } from 'react-redux'

const JobsView = ({ jupyterApp }) => {
    const [sizes, setSizes] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([100, '5%']);
    const sash = () => {
        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { className: 'sash-resizer' },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_3__.MdArrowDropUp, { className: 'sash-resizer-up', onClick: () => setSizes([0, 100]) }),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_3__.MdArrowDropDown, { className: 'sash-resizer-down', onClick: () => setSizes([100, 0]) }));
    };
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", { style: { height: '80vh' } },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement((split_pane_react__WEBPACK_IMPORTED_MODULE_1___default()), { sashRender: sash, resizerSize: 2, 
            //sashClassName='sash-resizer'
            split: 'horizontal', sizes: sizes, onChange: setSizes },
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(split_pane_react__WEBPACK_IMPORTED_MODULE_1__.Pane, { maxSize: '100%', style: { overflow: 'scroll' } },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_JobsOverviewContainer__WEBPACK_IMPORTED_MODULE_4__.JobsOverviewContainer, { jupyterApp: jupyterApp })),
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(split_pane_react__WEBPACK_IMPORTED_MODULE_1__.Pane, { maxSize: '100%', style: { overflow: 'scroll' } },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_JobDetailsContainer__WEBPACK_IMPORTED_MODULE_5__.JobDetailsContainer, { jupyterApp: jupyterApp })))));
};


/***/ }),

/***/ "./lib/components/MetricsJobInfoTable.js":
/*!***********************************************!*\
  !*** ./lib/components/MetricsJobInfoTable.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MetricsJobInfoTable: () => (/* binding */ MetricsJobInfoTable)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../redux/slices/jobsSlice */ "./lib/redux/slices/jobsSlice.js");
/* harmony import */ var _templates_MetricsJobInfoTable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../templates/MetricsJobInfoTable */ "./lib/templates/MetricsJobInfoTable.js");




const MetricsJobInfoTable = () => {
    // Redux
    const { selectedJob } = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(_redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_2__.selectJobs);
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("table", { className: 'table' },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tbody", null, _templates_MetricsJobInfoTable__WEBPACK_IMPORTED_MODULE_3__.METRICS_JOBS_INFO.map((field) => {
            {
                switch (field.type) {
                    case "code": return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: field.header },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("th", null, field.header),
                        selectedJob['jobInfo'][field.accessor] ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null,
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("code", null, selectedJob['jobInfo'][field.accessor])) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, "-"));
                    case "url": return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: field.header },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("th", null, field.header),
                        selectedJob['jobInfo'][field.accessor] ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null,
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", { href: selectedJob['jobInfo'][field.accessor] }, selectedJob['jobInfo'][field.accessor])) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, "-"));
                    default: return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: field.header },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("th", null, field.header),
                        selectedJob['jobInfo'][field.accessor] ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, selectedJob['jobInfo'][field.accessor]) : react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, "-"));
                }
            }
        }))));
};


/***/ }),

/***/ "./lib/components/OutputsJobInfoTable.js":
/*!***********************************************!*\
  !*** ./lib/components/OutputsJobInfoTable.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OutputsJobInfoTable: () => (/* binding */ OutputsJobInfoTable)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/sharing/consume/default/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ "webpack/sharing/consume/default/react-redux/react-redux");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/utils */ "./lib/utils/utils.js");
/* harmony import */ var _redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../redux/slices/jobsSlice */ "./lib/redux/slices/jobsSlice.js");
/* harmony import */ var _templates_OutputsJobInfoTable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../templates/OutputsJobInfoTable */ "./lib/templates/OutputsJobInfoTable.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../constants */ "./lib/constants.js");
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-bootstrap */ "webpack/sharing/consume/default/react-bootstrap/react-bootstrap");
/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_icons_fa__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-icons/fa */ "./node_modules/react-icons/fa/index.esm.js");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3__);










async function navigateToFolder(folderPath, jupyterApp) {
    const contents = jupyterApp.serviceManager.contents;
    if (folderPath) {
        // Check if the folder exists
        contents.get(folderPath).then(() => {
            // Navigate to the folder
            jupyterApp.shell.activateById('filebrowser');
            jupyterApp.commands.execute('filebrowser:go-to-path', { path: folderPath });
        }).catch(error => {
            let errorMessage = `Error navigating to folder: ${error.message}`;
            console.error(errorMessage);
            _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3__.Notification.error(errorMessage, { autoClose: 3000 });
        });
    }
    else {
        _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_3__.Notification.error("No folder path to open.", { autoClose: 3000 });
    }
    const activeElement = document.activeElement;
    if (activeElement)
        activeElement.blur();
}
function copyProductFolderPath(folderPath) {
    (0,_utils_utils__WEBPACK_IMPORTED_MODULE_4__.copyTextToClipboard)(folderPath, "Copied product folder path to clipboard.");
    const activeElement = document.activeElement;
    if (activeElement)
        activeElement.blur();
}
const OutputsJobInfoTable = ({ jupyterApp }) => {
    // Redux
    const { selectedJob } = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.useSelector)(_redux_slices_jobsSlice__WEBPACK_IMPORTED_MODULE_5__.selectJobs);
    let productFolderPath = null;
    if (selectedJob['jobInfo'][_templates_OutputsJobInfoTable__WEBPACK_IMPORTED_MODULE_6__.OUTPUTS_JOBS_INFO.accessor]) {
        productFolderPath = (0,_utils_utils__WEBPACK_IMPORTED_MODULE_4__.getProductFolderPath)(selectedJob['jobInfo'][_templates_OutputsJobInfoTable__WEBPACK_IMPORTED_MODULE_6__.OUTPUTS_JOBS_INFO.accessor]);
    }
    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("table", { className: 'table' },
        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tbody", null, selectedJob['jobInfo'][_templates_OutputsJobInfoTable__WEBPACK_IMPORTED_MODULE_6__.OUTPUTS_JOBS_INFO.accessor] ?
            react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: _templates_OutputsJobInfoTable__WEBPACK_IMPORTED_MODULE_6__.OUTPUTS_JOBS_INFO.header + " folder path" },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("th", { style: { whiteSpace: 'pre', verticalAlign: 'middle' } }, _templates_OutputsJobInfoTable__WEBPACK_IMPORTED_MODULE_6__.OUTPUTS_JOBS_INFO.header + " folder path"),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", { style: { whiteSpace: 'pre', verticalAlign: 'middle' } },
                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, productFolderPath),
                        productFolderPath ?
                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Button, { variant: "primary", onClick: () => navigateToFolder(productFolderPath, jupyterApp) },
                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_7__.FaFolder, null),
                                    "   Open in File Browser"),
                                "        ",
                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.Button, { variant: "primary", onClick: () => copyProductFolderPath(productFolderPath) },
                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_7__.FaFolder, null),
                                    "   Copy Folder Path to Clipboard")) : null)),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: _templates_OutputsJobInfoTable__WEBPACK_IMPORTED_MODULE_6__.OUTPUTS_JOBS_INFO.header + " urls" },
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("th", { style: { whiteSpace: 'pre', verticalAlign: 'middle' } }, _templates_OutputsJobInfoTable__WEBPACK_IMPORTED_MODULE_6__.OUTPUTS_JOBS_INFO.header + " urls"),
                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", { style: { whiteSpace: 'pre', verticalAlign: 'middle' } }, (0,_utils_utils__WEBPACK_IMPORTED_MODULE_4__.getProducts)(selectedJob['jobInfo'][_templates_OutputsJobInfoTable__WEBPACK_IMPORTED_MODULE_6__.OUTPUTS_JOBS_INFO.accessor]))))
            : react__WEBPACK_IMPORTED_MODULE_0___default().createElement("tr", { key: "no-outputs" },
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("th", null, _templates_OutputsJobInfoTable__WEBPACK_IMPORTED_MODULE_6__.OUTPUTS_JOBS_INFO.header),
                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("td", null, _constants__WEBPACK_IMPORTED_MODULE_8__.EMPTY_FIELD_CHAR)))));
};


/***/ }),

/***/ "./lib/constants.js":
/*!**************************!*\
  !*** ./lib/constants.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DEFAULT_USERNAME: () => (/* binding */ DEFAULT_USERNAME),
/* harmony export */   EMPTY_FIELD_CHAR: () => (/* binding */ EMPTY_FIELD_CHAR),
/* harmony export */   JUPYTER_EXT: () => (/* binding */ JUPYTER_EXT),
/* harmony export */   MAX_CELL_WIDTH: () => (/* binding */ MAX_CELL_WIDTH),
/* harmony export */   STYLE_TYPE: () => (/* binding */ STYLE_TYPE),
/* harmony export */   SUBMITTED_JOB_ELEMENT_ID: () => (/* binding */ SUBMITTED_JOB_ELEMENT_ID),
/* harmony export */   SUBMITTED_JOB_FAIL: () => (/* binding */ SUBMITTED_JOB_FAIL),
/* harmony export */   SUBMITTED_JOB_SUCCESS: () => (/* binding */ SUBMITTED_JOB_SUCCESS),
/* harmony export */   SUBMITTING_JOB_TEXT: () => (/* binding */ SUBMITTING_JOB_TEXT)
/* harmony export */ });
/*******************************
 * Jupyter Extension
 *******************************/
const JUPYTER_EXT = {
    EXTENSION_CSS_CLASSNAME: 'jl-ReactAppWidget',
    VIEW_JOBS_PLUGIN_ID: 'jobs_view:plugin',
    VIEW_JOBS_NAME: 'View Jobs',
    VIEW_JOBS_OPEN_COMMAND: 'jobs_view:open',
    SUBMIT_JOBS_PLUGIN_ID: 'jobs_submit:plugin',
    SUBMIT_JOBS_NAME: 'Submit Jobs',
    SUBMIT_JOBS_OPEN_COMMAND: 'jobs_submit:open',
    REGISTER_ALGORITHM_PLUGIN_ID: 'register_algorithm:plugin',
    REGISTER_ALGORITHM_NAME: 'Register Algorithm',
    REGISTER_ALGORITHM_OPEN_COMMAND: 'register_algorithm:open'
};
/*******************************
 * Jobs Tables
 *******************************/
const MAX_CELL_WIDTH = 350;
const STYLE_TYPE = {
    CODE: "code",
    TEXT: "text",
    URL: "url"
};
const EMPTY_FIELD_CHAR = '-';
/*******************************
 * User Info
 *******************************/
const DEFAULT_USERNAME = "anonymous";
const SUBMITTING_JOB_TEXT = "Submitting job...";
const SUBMITTED_JOB_SUCCESS = "{TIME}\nJob submitted successfully. {ID}";
const SUBMITTED_JOB_FAIL = "{TIME}\nJob submission failed because {ERROR}";
const SUBMITTED_JOB_ELEMENT_ID = "submitting_job_text";


/***/ }),

/***/ "./lib/index.js":
/*!**********************!*\
  !*** ./lib/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/application */ "webpack/sharing/consume/default/@jupyterlab/application");
/* harmony import */ var _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./constants */ "./lib/constants.js");
/* harmony import */ var _classes_App__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./classes/App */ "./lib/classes/App.js");
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @jupyterlab/ui-components */ "webpack/sharing/consume/default/@jupyterlab/ui-components");
/* harmony import */ var _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _jupyterlab_launcher__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @jupyterlab/launcher */ "webpack/sharing/consume/default/@jupyterlab/launcher");
/* harmony import */ var _jupyterlab_launcher__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_launcher__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/utils */ "./lib/utils/utils.js");
/* harmony import */ var _jupyterlab_statedb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @jupyterlab/statedb */ "webpack/sharing/consume/default/@jupyterlab/statedb");
/* harmony import */ var _jupyterlab_statedb__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_statedb__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @jupyterlab/mainmenu */ "webpack/sharing/consume/default/@jupyterlab/mainmenu");
/* harmony import */ var _jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lumino/widgets */ "webpack/sharing/consume/default/@lumino/widgets");
/* harmony import */ var _lumino_widgets__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_lumino_widgets__WEBPACK_IMPORTED_MODULE_6__);










/**
 * The command IDs used by the react-widget plugin.
 */
var CommandIDs;
(function (CommandIDs) {
    CommandIDs.create = 'create-react-widget';
})(CommandIDs || (CommandIDs = {}));
const profileId = 'maapsec-extension:IMaapProfile';
// Add 'View Jobs' and 'Submit Jobs' plugins to the jupyter lab 'Jobs' menu
const jobs_menu_plugin = {
    id: 'jobs-menu',
    autoStart: true,
    requires: [_jupyterlab_mainmenu__WEBPACK_IMPORTED_MODULE_5__.IMainMenu],
    activate: (app, mainMenu) => {
        const { commands } = app;
        let jobsMenu = new _lumino_widgets__WEBPACK_IMPORTED_MODULE_6__.Menu({ commands });
        jobsMenu.id = 'jobs-menu';
        jobsMenu.title.label = 'Jobs';
        [
            _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.VIEW_JOBS_OPEN_COMMAND,
            _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.SUBMIT_JOBS_OPEN_COMMAND
        ].forEach(command => {
            jobsMenu.addItem({ command });
        });
        mainMenu.addMenu(jobsMenu);
    }
};
// View Jobs plugin
const jobs_view_plugin = {
    id: _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.VIEW_JOBS_PLUGIN_ID,
    autoStart: true,
    optional: [_jupyterlab_launcher__WEBPACK_IMPORTED_MODULE_3__.ILauncher, _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ICommandPalette, _jupyterlab_statedb__WEBPACK_IMPORTED_MODULE_4__.IStateDB, _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__.ILayoutRestorer],
    activate: (app, launcher, palette, state, restorer) => {
        const { commands } = app;
        let viewJobsWidget = null;
        const viewJobsTracker = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.WidgetTracker({
            namespace: 'view-jobs-tracker'
        });
        if (restorer) {
            restorer.restore(viewJobsTracker, {
                command: _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.VIEW_JOBS_OPEN_COMMAND,
                name: () => 'view-jobs-tracker'
            });
        }
        const command = _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.VIEW_JOBS_OPEN_COMMAND;
        commands.addCommand(command, {
            caption: _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.VIEW_JOBS_NAME,
            label: _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.VIEW_JOBS_NAME,
            icon: (args) => (args['isPalette'] ? null : _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__.reactIcon),
            execute: () => {
                (0,_utils_utils__WEBPACK_IMPORTED_MODULE_8__.getUsernameToken)(state, profileId, function (uname, ticket) {
                    console.log("Got username: ", uname);
                    const content = new _classes_App__WEBPACK_IMPORTED_MODULE_9__.ViewJobsReactAppWidget(uname, app);
                    viewJobsWidget = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.MainAreaWidget({ content });
                    viewJobsWidget.title.label = _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.VIEW_JOBS_NAME;
                    viewJobsWidget.title.icon = _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__.reactIcon;
                    app.shell.add(viewJobsWidget, 'main');
                    // Add widget to the tracker so it will persist on browser refresh
                    viewJobsTracker.save(viewJobsWidget);
                    viewJobsTracker.add(viewJobsWidget);
                });
            },
        });
        palette.addItem({ command: _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.VIEW_JOBS_OPEN_COMMAND, category: 'MAAP Extensions' });
        if (launcher) {
            launcher.add({
                command,
                category: "MAAP Extensions"
            });
        }
        console.log('JupyterLab View Jobs plugin is activated!');
    },
};
// Submit Jobs plugin
const jobs_submit_plugin = {
    id: _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.SUBMIT_JOBS_PLUGIN_ID,
    autoStart: true,
    optional: [_jupyterlab_launcher__WEBPACK_IMPORTED_MODULE_3__.ILauncher, _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.ICommandPalette, _jupyterlab_statedb__WEBPACK_IMPORTED_MODULE_4__.IStateDB, _jupyterlab_application__WEBPACK_IMPORTED_MODULE_0__.ILayoutRestorer],
    activate: (app, launcher, palette, state, restorer) => {
        const { commands } = app;
        let submitJobsWidget = null;
        const submitJobsTracker = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.WidgetTracker({
            namespace: 'submit-jobs-tracker'
        });
        if (restorer) {
            restorer.restore(submitJobsTracker, {
                command: _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.SUBMIT_JOBS_OPEN_COMMAND,
                name: () => 'submit-jobs-tracker'
            });
        }
        const command = _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.SUBMIT_JOBS_OPEN_COMMAND;
        commands.addCommand(command, {
            caption: _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.SUBMIT_JOBS_NAME,
            label: _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.SUBMIT_JOBS_NAME,
            icon: (args) => (args['isPalette'] ? null : _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__.reactIcon),
            execute: () => {
                (0,_utils_utils__WEBPACK_IMPORTED_MODULE_8__.getUsernameToken)(state, profileId, function (uname, ticket) {
                    console.log("Got username: ", uname);
                    const content = new _classes_App__WEBPACK_IMPORTED_MODULE_9__.SubmitJobsReactAppWidget("", uname);
                    submitJobsWidget = new _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_1__.MainAreaWidget({ content });
                    submitJobsWidget.title.label = _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.SUBMIT_JOBS_NAME;
                    submitJobsWidget.title.icon = _jupyterlab_ui_components__WEBPACK_IMPORTED_MODULE_2__.reactIcon;
                    app.shell.add(submitJobsWidget, 'main');
                    // Add widget to the tracker so it will persist on browser refresh
                    submitJobsTracker.save(submitJobsWidget);
                    submitJobsTracker.add(submitJobsWidget);
                }).catch((error) => console.log(error));
            },
        });
        palette.addItem({ command: _constants__WEBPACK_IMPORTED_MODULE_7__.JUPYTER_EXT.SUBMIT_JOBS_OPEN_COMMAND, category: 'MAAP Extensions' });
        if (launcher) {
            launcher.add({
                command,
                category: "MAAP Extensions"
            });
        }
        console.log('JupyterLab Submit Jobs plugin is activated!');
    }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ([jobs_view_plugin, jobs_menu_plugin, jobs_submit_plugin]);


/***/ }),

/***/ "./lib/redux/slices/CMRSwitchSlice.js":
/*!********************************************!*\
  !*** ./lib/redux/slices/CMRSwitchSlice.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CMRSwitchActions: () => (/* binding */ CMRSwitchActions),
/* harmony export */   CMRSwitchSlice: () => (/* binding */ CMRSwitchSlice),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   selectCMRSwitch: () => (/* binding */ selectCMRSwitch)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ "webpack/sharing/consume/default/@reduxjs/toolkit/@reduxjs/toolkit");
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);

const initialState = {
    switchIsChecked: false,
    switchIsDisabled: true
};
const CMRSwitchSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({
    name: 'CMRSwitch',
    initialState,
    reducers: {
        resetValue: () => initialState,
        toggleValue: (state) => {
            state.switchIsChecked = !state.switchIsChecked;
        },
        toggleDisabled: (state) => {
            state.switchIsDisabled = !state.switchIsDisabled;
        },
    },
});
// Actions
const CMRSwitchActions = CMRSwitchSlice.actions;
// Selector
const selectCMRSwitch = (state) => state.CMRSwitch;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CMRSwitchSlice.reducer);


/***/ }),

/***/ "./lib/redux/slices/JobsContainerSlice.js":
/*!************************************************!*\
  !*** ./lib/redux/slices/JobsContainerSlice.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JobsContainerActions: () => (/* binding */ JobsContainerActions),
/* harmony export */   JobsContainerSlice: () => (/* binding */ JobsContainerSlice),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   selectJobsContainer: () => (/* binding */ selectJobsContainer)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ "webpack/sharing/consume/default/@reduxjs/toolkit/@reduxjs/toolkit");
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);

const initialState = {
    /**
     * Number of rows in the jobs table to display per page.
     */
    itemSize: 10,
};
const JobsContainerSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({
    name: 'JobsContainer',
    initialState,
    reducers: {
        resetSize: () => initialState,
        updateSize: (state, action) => {
            state.itemSize = action.payload;
        },
    },
});
// Actions
const JobsContainerActions = JobsContainerSlice.actions;
// Selector
const selectJobsContainer = (state) => state.JobsContainer;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (JobsContainerSlice.reducer);


/***/ }),

/***/ "./lib/redux/slices/algorithmsSlice.js":
/*!*********************************************!*\
  !*** ./lib/redux/slices/algorithmsSlice.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   algorithmsActions: () => (/* binding */ algorithmsActions),
/* harmony export */   algorithmsSlice: () => (/* binding */ algorithmsSlice),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   selectAlgorithms: () => (/* binding */ selectAlgorithms)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ "webpack/sharing/consume/default/@reduxjs/toolkit/@reduxjs/toolkit");
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);

const initialState = {
    selectedAlgorithm: null,
    selectedResource: null,
    selectedAlgorithmMetadata: null,
    selectedCMRCollection: null
};
const algorithmsSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({
    name: 'Algorithms',
    initialState,
    reducers: {
        resetValue: () => initialState,
        /**
         * Algorithm user has selected
         */
        setAlgorithm: (state, action) => {
            state.selectedAlgorithm = action.payload;
        },
        /**
         * Metadata for selected algorithm
         */
        setAlgorithmMetadata: (state, action) => {
            state.selectedAlgorithmMetadata = action.payload;
        },
        /**
         * Resource user has selected
         */
        setResource: (state, action) => {
            state.selectedResource = action.payload;
        },
        /**
         * CMR collection user has selected
         */
        setCMRCollection: (state, action) => {
            state.selectedCMRCollection = action.payload;
        },
    },
});
// Actions
const algorithmsActions = algorithmsSlice.actions;
// Selector
const selectAlgorithms = (state) => state.Algorithms;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (algorithmsSlice.reducer);


/***/ }),

/***/ "./lib/redux/slices/jobsSlice.js":
/*!***************************************!*\
  !*** ./lib/redux/slices/jobsSlice.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   jobsActions: () => (/* binding */ jobsActions),
/* harmony export */   jobsSlice: () => (/* binding */ jobsSlice),
/* harmony export */   selectJobs: () => (/* binding */ selectJobs)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ "webpack/sharing/consume/default/@reduxjs/toolkit/@reduxjs/toolkit");
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);

const initialState = {
    userJobIDs: [],
    userJobs: [],
    userJobStatuses: [],
    selectedJob: null,
    userJobInfo: [],
    formattedJobsInfo: [],
    jobRefreshTimestamp: null
};
const jobsSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({
    name: 'Jobs',
    initialState,
    reducers: {
        resetValue: () => initialState,
        setUserJobIDs: (state, action) => {
            state.userJobIDs = action.payload;
        },
        setUserJobs: (state, action) => {
            state.userJobs = action.payload;
        },
        setJobStatuses: (state, action) => {
            state.userJobStatuses = action.payload;
        },
        setSelectedJob: (state, action) => {
            state.selectedJob = action.payload;
        },
        setUserJobInfo: (state, action) => {
            state.userJobInfo = action.payload;
        },
        setFormattedJobsInfo: (state, action) => {
            state.formattedJobsInfo = action.payload;
        },
        setJobRefreshTimestamp: (state, action) => {
            state.jobRefreshTimestamp = action.payload;
        }
    },
});
// Actions
const jobsActions = jobsSlice.actions;
// Selector
const selectJobs = (state) => state.Jobs;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (jobsSlice.reducer);


/***/ }),

/***/ "./lib/redux/slices/userInfoSlice.js":
/*!*******************************************!*\
  !*** ./lib/redux/slices/userInfoSlice.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   selectUserInfo: () => (/* binding */ selectUserInfo),
/* harmony export */   userInfoActions: () => (/* binding */ userInfoActions),
/* harmony export */   userInfoSlice: () => (/* binding */ userInfoSlice)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ "webpack/sharing/consume/default/@reduxjs/toolkit/@reduxjs/toolkit");
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);

const initialState = {
    username: null
};
const userInfoSlice = (0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.createSlice)({
    name: 'UserInfo',
    initialState,
    reducers: {
        resetUsername: () => initialState,
        setUsername: (state, action) => {
            state.username = action.payload;
        },
    },
});
// Actions
const userInfoActions = userInfoSlice.actions;
// Selector
const selectUserInfo = (state) => state.UserInfo;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (userInfoSlice.reducer);


/***/ }),

/***/ "./lib/redux/store.js":
/*!****************************!*\
  !*** ./lib/redux/store.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @reduxjs/toolkit */ "webpack/sharing/consume/default/@reduxjs/toolkit/@reduxjs/toolkit");
/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _slices_CMRSwitchSlice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./slices/CMRSwitchSlice */ "./lib/redux/slices/CMRSwitchSlice.js");
/* harmony import */ var _slices_JobsContainerSlice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./slices/JobsContainerSlice */ "./lib/redux/slices/JobsContainerSlice.js");
/* harmony import */ var _slices_algorithmsSlice__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./slices/algorithmsSlice */ "./lib/redux/slices/algorithmsSlice.js");
/* harmony import */ var _slices_jobsSlice__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./slices/jobsSlice */ "./lib/redux/slices/jobsSlice.js");
/* harmony import */ var _slices_userInfoSlice__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./slices/userInfoSlice */ "./lib/redux/slices/userInfoSlice.js");






/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__.configureStore)({
    reducer: {
        Algorithms: _slices_algorithmsSlice__WEBPACK_IMPORTED_MODULE_1__["default"],
        CMRSwitch: _slices_CMRSwitchSlice__WEBPACK_IMPORTED_MODULE_2__["default"],
        JobsContainer: _slices_JobsContainerSlice__WEBPACK_IMPORTED_MODULE_3__["default"],
        Jobs: _slices_jobsSlice__WEBPACK_IMPORTED_MODULE_4__["default"],
        UserInfo: _slices_userInfoSlice__WEBPACK_IMPORTED_MODULE_5__["default"]
    },
    devTools: true,
}));


/***/ }),

/***/ "./lib/templates/ErrorsJobInfoTable.js":
/*!*********************************************!*\
  !*** ./lib/templates/ErrorsJobInfoTable.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ERRORS_JOBS_INFO: () => (/* binding */ ERRORS_JOBS_INFO)
/* harmony export */ });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ "./lib/constants.js");
/**
 * Describes the fields to be displayed in the GeneralJobsInfo table component.
 * The accessors are relative to the IJob type.
 */

const ERRORS_JOBS_INFO = [
    {
        header: "Errors",
        accessor: "traceback",
        type: _constants__WEBPACK_IMPORTED_MODULE_0__.STYLE_TYPE.CODE
    }
];


/***/ }),

/***/ "./lib/templates/GeneralJobInfoTable.js":
/*!**********************************************!*\
  !*** ./lib/templates/GeneralJobInfoTable.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GENERAL_JOBS_INFO: () => (/* binding */ GENERAL_JOBS_INFO)
/* harmony export */ });
/**
 * Describes the fields to be displayed in the GeneralJobsInfo table component.
 * The accessors are relative to the IJob type.
 */
const GENERAL_JOBS_INFO = [
    {
        header: "Tag",
        accessor: "tags"
    },
    {
        header: "Payload ID",
        accessor: "payload_id"
    },
    {
        header: "Job ID",
        accessor: "job_id"
    },
    {
        header: "Status",
        accessor: "status"
    },
    {
        header: "Queued Time",
        accessor: "time_queued"
    },
    {
        header: "Start Time",
        accessor: "time_start"
    },
    {
        header: "End Time",
        accessor: "time_end"
    },
    {
        header: "Duration",
        accessor: "duration"
    },
    {
        header: "Resource",
        accessor: "queue"
    }
];


/***/ }),

/***/ "./lib/templates/InputsJobInfoTable.js":
/*!*********************************************!*\
  !*** ./lib/templates/InputsJobInfoTable.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   INPUTS_JOBS_INFO: () => (/* binding */ INPUTS_JOBS_INFO)
/* harmony export */ });
/**
 * Describes the fields to be displayed in the InputsJobsInfo table component.
 * The accessors are relative to the IJob type.
 */
const INPUTS_JOBS_INFO = {
    accessor: "params"
};


/***/ }),

/***/ "./lib/templates/MetricsJobInfoTable.js":
/*!**********************************************!*\
  !*** ./lib/templates/MetricsJobInfoTable.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   METRICS_JOBS_INFO: () => (/* binding */ METRICS_JOBS_INFO)
/* harmony export */ });
/**
 * Describes the fields to be displayed in the MetricsJobsInfo table component.
 *
 */
const METRICS_JOBS_INFO = [
    {
        header: "Instance Type",
        accessor: "ec2_instance_type",
    },
    {
        header: "Job Directory Size (B)",
        accessor: "job_dir_size",
    },
    {
        header: "Container Image Name",
        accessor: "container_image_name",
    },
    {
        header: "Container Image URL",
        accessor: "container_image_url",
    },
];


/***/ }),

/***/ "./lib/templates/OutputsJobInfoTable.js":
/*!**********************************************!*\
  !*** ./lib/templates/OutputsJobInfoTable.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OUTPUTS_JOBS_INFO: () => (/* binding */ OUTPUTS_JOBS_INFO)
/* harmony export */ });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ "./lib/constants.js");
/**
 * Describes the fields to be displayed in the GeneralJobsInfo table component.
 * The accessors are relative to the IJob type.
 */

const OUTPUTS_JOBS_INFO = {
    header: "Products",
    accessor: "products",
    type: _constants__WEBPACK_IMPORTED_MODULE_0__.STYLE_TYPE.URL
};


/***/ }),

/***/ "./lib/utils/mapping.js":
/*!******************************!*\
  !*** ./lib/utils/mapping.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parseJobData: () => (/* binding */ parseJobData)
/* harmony export */ });
const parseJobData = (data) => {
    let tmpJobs = [];
    data.map((job) => {
        let tmpJob = {};
        let tmp = Object.entries(job);
        if (tmp[0][0]) {
            tmpJob.payload_id = tmp[0][0];
        }
        if (tmp[0][1]) {
            tmpJob.name = "";
            tmpJob.job_type = tmp[0][1]['type'];
            tmpJob.status = tmp[0][1]['status'];
            tmpJob.tags = tmp[0][1]['tags'];
            tmpJob.traceback = tmp[0][1]['traceback'];
            if (tmp[0][1]['job']) {
                tmpJob.username = tmp[0][1]['job']['username'];
                tmpJob.job_id = tmp[0][1]['job']['job_id'];
                if (tmp[0][1]['job']['job_info']) {
                    tmpJob.queue = tmp[0][1]['job']['job_info']['job_queue'];
                    tmpJob.time_end = tmp[0][1]['job']['job_info']['time_end'];
                    /* If there is no time_start field, that implies the job never started (i.e. revoked). For sorting purposes, grab time_queued instead. */
                    tmpJob.time_start = tmp[0][1]['job']['job_info']['time_start'] ? tmp[0][1]['job']['job_info']['time_start'] : ""; //tmp[0][1]['job']['job_info']['time_queued']
                    tmpJob.time_queued = tmp[0][1]['job']['job_info']['time_queued'];
                    tmpJob.duration = tmp[0][1]['job']['job_info']['duration'];
                    if (tmp[0][1]['job']['job_info']['facts']) {
                        tmpJob.ec2_instance_id = tmp[0][1]['job']['job_info']['facts']['ec2_instance_id'];
                        tmpJob.ec2_instance_type = tmp[0][1]['job']['job_info']['facts']['ec2_instance_type'];
                        tmpJob.ec2_availability_zone = tmp[0][1]['job']['job_info']['facts']['ec2_placement_availability_zone'];
                    }
                    if (tmp[0][1]['job']['job_info']['metrics']) {
                        tmpJob.job_dir_size = tmp[0][1]['job']['job_info']['metrics']['job_dir_size'];
                        if (tmp[0][1]['job']['job_info']['metrics']['products_staged']) {
                            tmpJob.products = tmp[0][1]['job']['job_info']['metrics']['products_staged'];
                        }
                    }
                }
            }
            if (tmp[0][1]['job']['context']) {
                tmpJob.command = tmp[0][1]['job']['context']['_command'];
                tmpJob.disk_usage = tmp[0][1]['job']['context']['_disk_usage'];
                tmpJob.container_image_name = tmp[0][1]['job']['context']['container_image_name'];
                tmpJob.container_image_url = tmp[0][1]['job']['context']['container_image_url'];
                if (tmp[0][1]['job']['context']['job_specification']) {
                    tmpJob.params = tmp[0][1]['job']['context']['job_specification']['params'];
                }
            }
        }
        tmpJobs.push(tmpJob);
    });
    return tmpJobs;
};


/***/ }),

/***/ "./lib/utils/ogc_parsers.js":
/*!**********************************!*\
  !*** ./lib/utils/ogc_parsers.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   delay: () => (/* binding */ delay),
/* harmony export */   getAlgorithmMetadata: () => (/* binding */ getAlgorithmMetadata),
/* harmony export */   parseScienceKeywords: () => (/* binding */ parseScienceKeywords)
/* harmony export */ });
const _parseAlgoInputs = (body) => {
    body = JSON.parse(body);
    let inputs = body["wps:ProcessOfferings"]["wps:ProcessOffering"]["wps:Process"]["wps:Input"];
    return inputs;
};
const _parseAlgoDesc = (body) => {
    body = JSON.parse(body);
    let description = body["wps:ProcessOfferings"]["wps:ProcessOffering"]["wps:Process"]["ows:Title"];
    return description;
};
const getAlgorithmMetadata = (body) => {
    let algorithmMetadata = {
        description: '',
        inputs: {}
    };
    //algorithmMetadata.description = _parseAlgoDesc(body)
    algorithmMetadata.inputs = _parseAlgoInputs(body);
    return algorithmMetadata;
};
const parseScienceKeywords = (keywords) => {
    var scienceKeywords = [];
    _getAllValues(keywords, scienceKeywords);
    return scienceKeywords;
};
const _getAllValues = (keywords, scienceKeywords) => {
    for (let k in keywords) {
        if (typeof keywords[k] === "object") {
            _getAllValues(keywords[k], scienceKeywords);
        }
        else {
            if (!scienceKeywords.includes(keywords[k]))
                scienceKeywords.push(keywords[k]);
        }
    }
};
const delay = ms => new Promise(res => setTimeout(res, ms));


/***/ }),

/***/ "./lib/utils/utils.js":
/*!****************************!*\
  !*** ./lib/utils/utils.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   copyTextToClipboard: () => (/* binding */ copyTextToClipboard),
/* harmony export */   getProductFolderPath: () => (/* binding */ getProductFolderPath),
/* harmony export */   getProducts: () => (/* binding */ getProducts),
/* harmony export */   getUserInfo: () => (/* binding */ getUserInfo),
/* harmony export */   getUsernameToken: () => (/* binding */ getUsernameToken),
/* harmony export */   openSubmitJobs: () => (/* binding */ openSubmitJobs),
/* harmony export */   secondsToReadableString: () => (/* binding */ secondsToReadableString)
/* harmony export */ });
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @jupyterlab/apputils */ "webpack/sharing/consume/default/@jupyterlab/apputils");
/* harmony import */ var _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _api_maap_py__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/maap_py */ "./lib/api/maap_py.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ "./lib/constants.js");



/**
 * Converts seconds to a human-readable string using this format:
 * HHh MMm SSs
 *
 * @param seconds - string
 */
const secondsToReadableString = (seconds) => {
    let d = Number(seconds);
    let h = Math.floor(d / 3600);
    let m = Math.floor(d % 3600 / 60);
    let s = Math.floor(d % 3600 % 60);
    var str = h + 'h ' + m + 'm ' + s + 's ';
    return str;
};
const getProducts = (products) => {
    // if (products.length !> 0) {
    //     return ""
    // }
    const urls = new Set();
    // note that currently there should only be one element in products
    products.forEach((product) => {
        product["urls"].forEach((url) => {
            urls.add(url);
        });
    });
    let urls_str = Array.from(urls).join('\r\n');
    return urls_str;
};
/**
 * If there is more than one product folder path, print to console because that shouldn't be the case and we will need
 * to revisit if it is. Only take the first folder path if that is the case though.
 * @param products list of products - should only be be one because only one element in products_staged right now
 * @returns A single folder path
 */
const getProductFolderPath = (products) => {
    let productFolderPaths = new Set();
    products.forEach((product) => {
        productFolderPaths.add(product["product_folder_path"]);
    });
    let productFolderPathsArr = Array.from(productFolderPaths);
    if (productFolderPathsArr.length > 1) {
        console.error("Folder path length was " + productFolderPathsArr.length + ". We are only looking at the first element.");
    }
    return productFolderPathsArr.length ? productFolderPathsArr[0] : null;
};
var getUserInfo = function (callback) {
    window.parent._keycloak.loadUserInfo().success(function (profile) {
        callback(profile);
    }).error(function () {
        return "error";
    });
};
async function getUsernameToken(state, profileId, callback) {
    let uname = _constants__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_USERNAME;
    let ticket = '';
    let ade_server = '';
    let response = (0,_api_maap_py__WEBPACK_IMPORTED_MODULE_2__.getEnvironmentInfo)();
    response.then((data) => {
        console.log("ADE SERVER: ", data["ade_server"]);
        ade_server = data["ade_server"];
    }).finally(() => {
        if ("https://" + ade_server === document.location.origin) {
            getUserInfo(function (profile) {
                if (profile['cas:username'] === undefined) {
                    _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__.Notification.error("Get profile failed.", { autoClose: false });
                }
                else {
                    console.log("Getting username...");
                    uname = profile['cas:username'];
                    ticket = profile['proxyGrantingTicket'];
                    callback(uname, ticket);
                    _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__.Notification.success("Got profile.");
                }
            });
        }
        else {
            console.log("Getting username...1");
            console.log(state);
            state.fetch(profileId).then((profile) => {
                let profileObj = JSON.parse(JSON.stringify(profile));
                console.log(profileObj);
                _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__.Notification.success("Got profile.");
                uname = profileObj.preferred_username;
                ticket = profileObj.proxyGrantingTicket;
                callback(uname, ticket);
            }).catch((error) => {
                console.log("failed to get profile");
                console.log(error);
                callback(uname, ticket);
                _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__.Notification.error("Get profile failed. ", { autoClose: false });
            });
        }
    });
}
// Copies jupyter notebook command or product folder path to user clipboard 
async function copyTextToClipboard(text, successMessage) {
    try {
        await navigator.clipboard.writeText(text).then(() => { _jupyterlab_apputils__WEBPACK_IMPORTED_MODULE_0__.Notification.success(successMessage, { autoClose: 3000 }); });
    }
    catch (error) {
        console.warn('Copy failed', error);
    }
}
const openSubmitJobs = (jupyterApp, data) => {
    if (jupyterApp.commands.hasCommand(_constants__WEBPACK_IMPORTED_MODULE_1__.JUPYTER_EXT.SUBMIT_JOBS_OPEN_COMMAND)) {
        if (data == null) {
            jupyterApp.commands.execute(_constants__WEBPACK_IMPORTED_MODULE_1__.JUPYTER_EXT.SUBMIT_JOBS_OPEN_COMMAND, null);
        }
        else {
            jupyterApp.commands.execute(_constants__WEBPACK_IMPORTED_MODULE_1__.JUPYTER_EXT.SUBMIT_JOBS_OPEN_COMMAND, data);
        }
    }
};


/***/ }),

/***/ "./style/Alerts.css":
/*!**************************!*\
  !*** ./style/Alerts.css ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_Alerts_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./Alerts.css */ "./node_modules/css-loader/dist/cjs.js!./style/Alerts.css");

            

var options = {};

options.insert = "head";
options.singleton = false;

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_Alerts_css__WEBPACK_IMPORTED_MODULE_1__["default"], options);



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_Alerts_css__WEBPACK_IMPORTED_MODULE_1__["default"].locals || {});

/***/ }),

/***/ "./style/JobDetailsContainer.css":
/*!***************************************!*\
  !*** ./style/JobDetailsContainer.css ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_JobDetailsContainer_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./JobDetailsContainer.css */ "./node_modules/css-loader/dist/cjs.js!./style/JobDetailsContainer.css");

            

var options = {};

options.insert = "head";
options.singleton = false;

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_JobDetailsContainer_css__WEBPACK_IMPORTED_MODULE_1__["default"], options);



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_JobDetailsContainer_css__WEBPACK_IMPORTED_MODULE_1__["default"].locals || {});

/***/ }),

/***/ "./style/JobStatusBadge.css":
/*!**********************************!*\
  !*** ./style/JobStatusBadge.css ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_JobStatusBadge_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./JobStatusBadge.css */ "./node_modules/css-loader/dist/cjs.js!./style/JobStatusBadge.css");

            

var options = {};

options.insert = "head";
options.singleton = false;

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_JobStatusBadge_css__WEBPACK_IMPORTED_MODULE_1__["default"], options);



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_JobStatusBadge_css__WEBPACK_IMPORTED_MODULE_1__["default"].locals || {});

/***/ }),

/***/ "./style/JobSubmission.css":
/*!*********************************!*\
  !*** ./style/JobSubmission.css ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_JobSubmission_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./JobSubmission.css */ "./node_modules/css-loader/dist/cjs.js!./style/JobSubmission.css");

            

var options = {};

options.insert = "head";
options.singleton = false;

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_JobSubmission_css__WEBPACK_IMPORTED_MODULE_1__["default"], options);



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_JobSubmission_css__WEBPACK_IMPORTED_MODULE_1__["default"].locals || {});

/***/ }),

/***/ "./style/JobsOverview.css":
/*!********************************!*\
  !*** ./style/JobsOverview.css ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_JobsOverview_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./JobsOverview.css */ "./node_modules/css-loader/dist/cjs.js!./style/JobsOverview.css");

            

var options = {};

options.insert = "head";
options.singleton = false;

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_JobsOverview_css__WEBPACK_IMPORTED_MODULE_1__["default"], options);



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_JobsOverview_css__WEBPACK_IMPORTED_MODULE_1__["default"].locals || {});

/***/ })

}]);
//# sourceMappingURL=lib_index_js.a2a8ce5c109a0ef05772.js.map